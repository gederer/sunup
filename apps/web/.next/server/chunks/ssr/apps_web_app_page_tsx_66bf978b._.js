module.exports=[80523,a=>{"use strict";var b=a.i(6713);a.i(1917);var c=a.i(39300),d=a.i(46692);a.i(96432);var e=a.i(42492),f=a.i(82884),g=a.i(43616),h=a.i(59387);function i(a,b){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(a,JSON.stringify(b)))}async function j(a,b){let c;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{c=await Convex.asyncSyscall(a,JSON.stringify(b))}catch(a){if(void 0!==a.data){let b=new h.ConvexError(a.message);throw b.data=(0,e.jsonToConvex)(a.data),b}throw Error(a.message)}return JSON.parse(c)}a.i(23698);var k=a.i(33211);function l(a,b,c,d){if(void 0===a)throw TypeError(`Must provide arg ${b} \`${d}\` to \`${c}\``)}var m=Object.defineProperty,n=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?m(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class o{constructor(){n(this,"_isExpression"),n(this,"_value")}}var p=Object.defineProperty;class q extends o{constructor(a){super(),((a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?p(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c})(this,"inner"),this.inner=a}serialize(){return this.inner}}function r(a){return a instanceof q?a.serialize():{$literal:(0,e.convexOrUndefinedToJson)(a)}}let s={eq:(a,b)=>new q({$eq:[r(a),r(b)]}),neq:(a,b)=>new q({$neq:[r(a),r(b)]}),lt:(a,b)=>new q({$lt:[r(a),r(b)]}),lte:(a,b)=>new q({$lte:[r(a),r(b)]}),gt:(a,b)=>new q({$gt:[r(a),r(b)]}),gte:(a,b)=>new q({$gte:[r(a),r(b)]}),add:(a,b)=>new q({$add:[r(a),r(b)]}),sub:(a,b)=>new q({$sub:[r(a),r(b)]}),mul:(a,b)=>new q({$mul:[r(a),r(b)]}),div:(a,b)=>new q({$div:[r(a),r(b)]}),mod:(a,b)=>new q({$mod:[r(a),r(b)]}),neg:a=>new q({$neg:r(a)}),and:(...a)=>new q({$and:a.map(r)}),or:(...a)=>new q({$or:a.map(r)}),not:a=>new q({$not:r(a)}),field:a=>new q({$field:a})};var t=Object.defineProperty,u=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?t(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function v(a){throw Error("consumed"===a?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}class w{constructor(a){u(this,"state"),u(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:a},"FullTableScan"===a.source.type?this.tableNameForErrorMessages=a.source.tableName:this.tableNameForErrorMessages=a.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let a=this.state.query;return this.state={type:"closed"},a}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&v(this.state.type);let{queryId:a}=i("1.0/queryStream",{query:this.state.query,version:g.version});return this.state={type:"executing",queryId:a},a}closeQuery(){"executing"===this.state.type&&i("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(a){l(a,1,"order","order");let b=this.takeQuery();if("Search"===b.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==b.source.order)throw Error("Queries may only specify order at most once");return b.source.order=a,new w(b)}filter(a){l(a,1,"filter","predicate");let b=this.takeQuery();if(b.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return b.operators.push({filter:r(a(s))}),new w(b)}limit(a){l(a,1,"limit","n");let b=this.takeQuery();return b.operators.push({limit:a}),new w(b)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&v(this.state.type);let a="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:b,done:c}=await j("1.0/queryStreamNext",{queryId:a});return c&&this.closeQuery(),{value:(0,e.jsonToConvex)(b),done:c}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(a){if(l(a,1,"paginate","options"),"number"!=typeof a?.numItems||a.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${a?.numItems}\`.`);let b=this.takeQuery(),c=a.numItems,d=a.cursor,f=a?.endCursor??null,h=a.maximumRowsRead??null,{page:i,isDone:k,continueCursor:m,splitCursor:n,pageStatus:o}=await j("1.0/queryPage",{query:b,cursor:d,endCursor:f,pageSize:c,maximumRowsRead:h,maximumBytesRead:a.maximumBytesRead,version:g.version});return{page:i.map(a=>(0,e.jsonToConvex)(a)),isDone:k,continueCursor:m,splitCursor:n,pageStatus:o}}async collect(){let a=[];for await(let b of this)a.push(b);return a}async take(a){l(a,1,"take","n");if(!Number.isInteger(a)||a<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(a).collect()}async first(){let a=await this.take(1);return 0===a.length?null:a[0]}async unique(){let a=await this.take(2);if(0===a.length)return null;if(2===a.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${a[0]._id}, ${a[1]._id}, ...]`);return a[0]}}f.v.object({numItems:f.v.number(),cursor:f.v.union(f.v.string(),f.v.null()),endCursor:f.v.optional(f.v.union(f.v.string(),f.v.null())),id:f.v.optional(f.v.number()),maximumRowsRead:f.v.optional(f.v.number()),maximumBytesRead:f.v.optional(f.v.number())});var x=a.i(59479),y=Object.defineProperty,z=Object.defineProperty,A=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?z(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class B{constructor(a){A(this,"indexes"),A(this,"stagedDbIndexes"),A(this,"searchIndexes"),A(this,"stagedSearchIndexes"),A(this,"vectorIndexes"),A(this,"stagedVectorIndexes"),A(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=a}" indexes"(){return this.indexes}index(a,b){return Array.isArray(b)?this.indexes.push({indexDescriptor:a,fields:b}):b.staged?this.stagedDbIndexes.push({indexDescriptor:a,fields:b.fields}):this.indexes.push({indexDescriptor:a,fields:b.fields}),this}searchIndex(a,b){return b.staged?this.stagedSearchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}):this.searchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}),this}vectorIndex(a,b){return b.staged?this.stagedVectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}),this}self(){return this}export(){let a=this.validator.json;if("object"!=typeof a)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:a}}}function C(a){return new B((0,f.isValidator)(a)?a:f.v.object(a))}new class a{constructor(a,b){A(this,"tables"),A(this,"strictTableNameTypes"),A(this,"schemaValidation"),this.tables=a,this.schemaValidation=b?.schemaValidation===void 0||b.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([a,b])=>{let{indexes:c,stagedDbIndexes:d,searchIndexes:e,stagedSearchIndexes:f,vectorIndexes:g,stagedVectorIndexes:h,documentType:i}=b.export();return{tableName:a,indexes:c,stagedDbIndexes:d,searchIndexes:e,stagedSearchIndexes:f,vectorIndexes:g,stagedVectorIndexes:h,documentType:i}}),schemaValidation:this.schemaValidation})}}({_scheduled_functions:C({name:f.v.string(),args:f.v.array(f.v.any()),scheduledTime:f.v.float64(),completedTime:f.v.optional(f.v.float64()),state:f.v.union(f.v.object({kind:f.v.literal("pending")}),f.v.object({kind:f.v.literal("inProgress")}),f.v.object({kind:f.v.literal("success")}),f.v.object({kind:f.v.literal("failed"),error:f.v.string()}),f.v.object({kind:f.v.literal("canceled")}))}),_storage:C({sha256:f.v.string(),size:f.v.float64(),contentType:f.v.optional(f.v.string())})},void 0);let D=x.anyApi;x.anyApi,function a(b,c){return new Proxy({},{get(d,e){if("string"==typeof e)return a(b,[...c,e]);if(e===k.toReferencePath){if(c.length<1){let a=[b,...c].join(".");throw Error(`API path is expected to be of the form \`${b}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+c.join("/")}}})}("components",[]);var E=a.i(75395),F=a.i(1882);function G(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("header",{className:"sticky top-0 z-10 bg-background p-4 border-b-2 border-slate-200 dark:border-slate-800 flex flex-row justify-between items-center",children:["Convex + Next.js + Clerk",(0,b.jsx)(F.UserButton,{})]}),(0,b.jsxs)("main",{className:"p-8 flex flex-col gap-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-center",children:"Convex + Next.js + Clerk"}),(0,b.jsx)(c.Authenticated,{children:(0,b.jsx)(I,{})}),(0,b.jsx)(c.Unauthenticated,{children:(0,b.jsx)(H,{})})]})]})}function H(){return(0,b.jsxs)("div",{className:"flex flex-col gap-8 w-96 mx-auto",children:[(0,b.jsx)("p",{children:"Log in to see the numbers"}),(0,b.jsx)(E.SignInButton,{mode:"modal",children:(0,b.jsx)("button",{className:"bg-foreground text-background px-4 py-2 rounded-md",children:"Sign in"})}),(0,b.jsx)(E.SignUpButton,{mode:"modal",children:(0,b.jsx)("button",{className:"bg-foreground text-background px-4 py-2 rounded-md",children:"Sign up"})})]})}function I(){let a=(0,d.useQuery)(D.users.current),c=a?`${a.firstName} ${a.lastName}`:"Anonymous";return(0,b.jsx)("div",{className:"flex flex-col gap-8 max-w-lg mx-auto",children:(0,b.jsxs)("p",{children:["Welcome ",c,"!"]})})}a.s(["default",()=>G],80523)}];

//# sourceMappingURL=apps_web_app_page_tsx_66bf978b._.js.map