module.exports=[16853,(a,b,c)=>{"use strict";var d=a.r(99472);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},36180,(a,b,c)=>{"use strict";b.exports=a.r(16853)},75395,35393,91824,80979,21835,4054,88548,41514,1882,58164,45484,38465,68949,85999,a=>{"use strict";let b,c,d,e;function f(a){return function(b){let c=b??this;if(!c)throw TypeError(`${a.kind||a.name} type guard requires an error object`);return c instanceof a}}var g,h,i,j,k,l,m,n,o,p,q,r=class{static kind="ClerkApiError";code;message;longMessage;meta;constructor(a){const b=this.parseJsonError(a);this.code=b.code,this.message=b.message,this.longMessage=b.longMessage,this.meta=b.meta}parseJsonError(a){return{code:a.code,message:a.message,longMessage:a.long_message,meta:{paramName:a.meta?.param_name,sessionId:a.meta?.session_id,emailAddresses:a.meta?.email_addresses,identifiers:a.meta?.identifiers,zxcvbn:a.meta?.zxcvbn,plan:a.meta?.plan,isPlanUpgradePossible:a.meta?.is_plan_upgrade_possible}}}};function s(a=[]){return a.length>0?a.map(a=>new r(a)):[]}function t(a){return new r(a)}function u(a){return{code:a?.code||"",message:a?.message||"",long_message:a?.longMessage,meta:{param_name:a?.meta?.paramName,session_id:a?.meta?.sessionId,email_addresses:a?.meta?.emailAddresses,identifiers:a?.meta?.identifiers,zxcvbn:a?.meta?.zxcvbn,plan:a?.meta?.plan,is_plan_upgrade_possible:a?.meta?.isPlanUpgradePossible}}}f(r);var v=class a extends Error{static kind="ClerkError";clerkError=!0;code;longMessage;docsUrl;cause;get name(){return this.constructor.name}constructor(b){super(new.target.formatMessage(new.target.kind,b.message,b.code,b.docsUrl),{cause:b.cause}),Object.setPrototypeOf(this,a.prototype),this.code=b.code,this.docsUrl=b.docsUrl,this.longMessage=b.longMessage,this.cause=b.cause}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(a,b,c,d){let e="Clerk:",f=RegExp(e.replace(" ","\\s*"),"i");return b=b.replace(f,""),b=`${e} ${b.trim()}

(code="${c}")

`,d&&(b+=`

Docs: ${d}`),b}},w=class a extends v{static kind="ClerkAPIResponseError";status;clerkTraceId;retryAfter;errors;constructor(b,c){const{data:d,status:e,clerkTraceId:f,retryAfter:g}=c;super({...c,message:b,code:"api_response_error"}),Object.setPrototypeOf(this,a.prototype),this.status=e,this.clerkTraceId=f,this.retryAfter=g,this.errors=(d||[]).map(a=>new r(a))}toString(){let a=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(a=>JSON.stringify(a))}`;return this.clerkTraceId&&(a+=`
Clerk Trace ID: ${this.clerkTraceId}`),a}static formatMessage(a,b,c,d){return b}};f(w);let x=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function y({packageName:a,customMessages:b}){let c=a;function d(a,b){if(!b)return`${c}: ${a}`;let d=a;for(let c of a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let a=(b[c[1]]||"").toString();d=d.replace(`{{${c[1]}}}`,a)}return`${c}: ${d}`}let e={...x,...b};return{setPackageName({packageName:a}){return"string"==typeof a&&(c=a),this},setMessages({customMessages:a}){return Object.assign(e,a||{}),this},throwInvalidPublishableKeyError(a){throw Error(d(e.InvalidPublishableKeyErrorMessage,a))},throwInvalidProxyUrl(a){throw Error(d(e.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw Error(d(e.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(d(e.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(a){throw Error(d(e.MissingClerkProvider,a))},throw(a){throw Error(d(a))}}}var z=class a extends Error{code;constructor(b){super(b),this.code=b,this.name="EmailLinkError",Object.setPrototypeOf(this,a.prototype)}};let A={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"},B={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"};var C=class a extends v{static kind="ClerkRuntimeError";clerkRuntimeError=!0;constructor(b,c){super({...c,message:b}),Object.setPrototypeOf(this,a.prototype)}};f(C);var D=class extends C{code;constructor(a,{code:b}){super(a,{code:b}),this.code=b}};function E(a){let b=a?.status;return"authentication_invalid"===a?.errors?.[0]?.code&&401===b}function F(a){return["captcha_invalid","captcha_not_enabled","captcha_missing_token"].includes(a.errors[0].code)}function G(a){let b=a?.status;return!!b&&b>=400&&b<500}function H(a){return(`${a.message}${a.name}`||"").toLowerCase().replace(/\s+/g,"").includes("networkerror")}function I(a){return J(a)||M(a)||K(a)}function J(a){return a&&"clerkError"in a}function K(a){return"clerkRuntimeError"in a}function L(a){return K(a)&&"reverification_cancelled"===a.code}function M(a){return"code"in a&&[4001,32602,32603].includes(a.code)&&"message"in a}function N(a){return J(a)&&a.errors?.[0]?.code==="user_locked"}function O(a){return J(a)&&a.errors?.[0]?.code==="form_password_pwned"}function P(a){return"EmailLinkError"===a.name}a.s(["ClerkAPIError",()=>r,"ClerkAPIResponseError",()=>w,"ClerkRuntimeError",()=>C,"ClerkWebAuthnError",()=>D,"EmailLinkError",()=>z,"EmailLinkErrorCode",()=>A,"EmailLinkErrorCodeStatus",()=>B,"buildErrorThrower",()=>y,"errorToJSON",()=>u,"is4xxError",()=>G,"isCaptchaError",()=>F,"isClerkAPIResponseError",()=>J,"isClerkRuntimeError",()=>K,"isEmailLinkError",()=>P,"isKnownError",()=>I,"isMetamaskError",()=>M,"isNetworkError",()=>H,"isPasswordPwnedError",()=>O,"isReverificationCancelledError",()=>L,"isUnauthorizedError",()=>E,"isUserLockedError",()=>N,"parseError",()=>t,"parseErrors",()=>s],35393),a.s([],91824);let Q={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},R=new Set(["first_factor","second_factor","multi_factor"]),S=new Set(["strict_mfa","strict","moderate","lax"]),T=(a,b)=>{let{org:c,user:d}=U(a),[e,f]=b.split(":"),g=f||e;return"org"===e?c.includes(g):"user"===e?d.includes(g):[...c,...d].includes(g)},U=a=>{let b=a?a.split(",").map(a=>a.trim()):[];return{org:b.filter(a=>a.split(":")[0].includes("o")).map(a=>a.split(":")[1]),user:b.filter(a=>a.split(":")[0].includes("u")).map(a=>a.split(":")[1])}},V=a=>{let b,c;if(!a)return!1;let d="string"==typeof a&&S.has(a),e="object"==typeof a&&(b=a.level,R.has(b))&&"number"==typeof(c=a.afterMinutes)&&c>0;return(!!d||!!e)&&(a=>"string"==typeof a?Q[a]:a).bind(null,a)};a.i(43432),a.i(16592),a.i(290);var W=a.i(99275),X=a.i(17425),Y=class{#a;#b=864e5;constructor(a){this.#a=a}isEventThrottled(a){let b=Date.now(),c=this.#c(a),d=this.#a.getItem(c);return!!d&&!(b-d>this.#b)||(this.#a.setItem(c,b),!1)}#c(a){let{sk:b,pk:c,payload:d,...e}=a,f={...d,...e};return JSON.stringify(Object.keys({...d,...e}).sort().map(a=>f[a]))}},Z=class{#d="clerk_telemetry_throttler";getItem(a){return this.#e()[a]}setItem(a,b){try{let c=this.#e();c[a]=b,localStorage.setItem(this.#d,JSON.stringify(c))}catch(a){a instanceof DOMException&&("QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&localStorage.length>0&&localStorage.removeItem(this.#d)}}removeItem(a){try{let b=this.#e();delete b[a],localStorage.setItem(this.#d,JSON.stringify(b))}catch{}}#e(){try{let a=localStorage.getItem(this.#d);if(!a)return{};return JSON.parse(a)}catch{return{}}}static isSupported(){return!1}},$=class{#a=new Map;#f=1e4;getItem(a){return this.#a.size>this.#f?void this.#a.clear():this.#a.get(a)}setItem(a,b){this.#a.set(a,b)}removeItem(a){this.#a.delete(a)}};let _=new Set(["error","warn","info","debug","trace"]);var aa=class{#g;#h;#i={};#j=[];#k=null;constructor(a){this.#g={maxBufferSize:a.maxBufferSize??5,samplingRate:a.samplingRate??1,perEventSampling:a.perEventSampling??!0,disabled:a.disabled??!1,debug:a.debug??!1,endpoint:"https://clerk-telemetry.com"},a.clerkVersion?this.#i.clerkVersion=a.clerkVersion??"":this.#i.clerkVersion="",this.#i.sdk=a.sdk,this.#i.sdkVersion=a.sdkVersion,this.#i.publishableKey=a.publishableKey??"";const b=(0,W.parsePublishableKey)(a.publishableKey);b&&(this.#i.instanceType=b.instanceType),a.secretKey&&(this.#i.secretKey=a.secretKey.substring(0,16));const c=Z.isSupported()?new Z:new $;this.#h=new Y(c)}get isEnabled(){return!("development"!==this.#i.instanceType||this.#g.disabled||"undefined"!=typeof process&&process.env&&(0,X.isTruthy)(process.env.CLERK_TELEMETRY_DISABLED))}get isDebug(){return this.#g.debug||"undefined"!=typeof process&&process.env&&(0,X.isTruthy)(process.env.CLERK_TELEMETRY_DEBUG)}record(a){try{let b=this.#l(a.event,a.payload);if(this.#m(b.event,b),!this.#n(b,a.eventSamplingRate))return;this.#j.push({kind:"event",value:b}),this.#o()}catch(a){console.error("[clerk/telemetry] Error recording telemetry event",a)}}recordLog(a){try{if(!this.#p(a))return;let b="string"==typeof a?.level&&_.has(a.level),c="string"==typeof a?.message&&a.message.trim().length>0,d=null,e=a?.timestamp;if("number"==typeof e||"string"==typeof e){let a=new Date(e);Number.isNaN(a.getTime())||(d=a)}if(!b||!c||null===d){this.isDebug&&"undefined"!=typeof console&&console.warn("[clerk/telemetry] Dropping invalid telemetry log entry",{levelIsValid:b,messageIsValid:c,timestampIsValid:null!==d});return}let f=this.#q(),g={sdk:f.name,sdkv:f.version,cv:this.#i.clerkVersion??"",lvl:a.level,msg:a.message,ts:d.toISOString(),pk:this.#i.publishableKey||null,payload:this.#r(a.context)};this.#j.push({kind:"log",value:g}),this.#o()}catch(a){console.error("[clerk/telemetry] Error recording telemetry log entry",a)}}#n(a,b){return this.isEnabled&&!this.isDebug&&this.#s(a,b)}#p(a){return!0}#s(a,b){let c=Math.random();return!!(c<=this.#g.samplingRate&&(!1===this.#g.perEventSampling||void 0===b||c<=b))&&!this.#h.isEventThrottled(a)}#o(){this.#t()}#t(){let a=[...this.#j];if(this.#j=[],this.#k=null,0===a.length)return;let b=a.filter(a=>"event"===a.kind).map(a=>a.value),c=a.filter(a=>"log"===a.kind).map(a=>a.value);b.length>0&&fetch(new URL("/v1/event",this.#g.endpoint),{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({events:b})}).catch(()=>void 0),c.length>0&&fetch(new URL("/v1/logs",this.#g.endpoint),{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({logs:c})}).catch(()=>void 0)}#m(a,b){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",a),console.log(b),console.groupEnd()):console.log("[clerk/telemetry]",a,b))}#q(){return{name:this.#i.sdk,version:this.#i.sdkVersion}}#l(a,b){let c=this.#q();return{event:a,cv:this.#i.clerkVersion??"",it:this.#i.instanceType??"",sdk:c.name,sdkv:c.version,...this.#i.publishableKey?{pk:this.#i.publishableKey}:{},...this.#i.secretKey?{sk:this.#i.secretKey}:{},payload:b}}#r(a){if(null==a||"object"!=typeof a)return null;try{let b=JSON.parse(JSON.stringify(a));if(b&&"object"==typeof b&&!Array.isArray(b))return b;return null}catch{return null}}};let ab="COMPONENT_MOUNTED",ac=new Set(["SignIn","SignUp"]);function ad(a){return ac.has(a)?1:.1}function ae(a){return function(b,c,d){return{event:a,eventSamplingRate:a===ab?ad(b):.1,payload:{component:b,appearanceProp:!!c?.appearance,baseTheme:!!c?.appearance?.baseTheme,elements:!!c?.appearance?.elements,variables:!!c?.appearance?.variables,...d}}}}function af(a,b,c){return ae(ab)(a,b,c)}function ag(a,b,c){return ae("COMPONENT_OPENED")(a,b,c)}function ah(a,b={}){return{event:ab,eventSamplingRate:ad(a),payload:{component:a,...b}}}function ai(a,b){return{event:"METHOD_CALLED",eventSamplingRate:.1,payload:{method:a,...b}}}function aj(a){return{event:"FRAMEWORK_METADATA",eventSamplingRate:.1,payload:a}}let ak="THEME_USAGE";function al(a){return{event:ak,eventSamplingRate:1,payload:function(a){let b;if(!a||"object"!=typeof a)return{};let c=a.theme||a.baseTheme;if(!c)return{};if(Array.isArray(c))for(let a of c){let c=am(a);if(c){b=c;break}}else b=am(c);return{themeName:b}}(a)}}function am(a){return"string"==typeof a?a:"object"==typeof a&&null!==a&&"name"in a&&"string"==typeof a.name?a.name:void 0}a.s(["EVENT_SAMPLING_RATE",()=>1,"EVENT_THEME_USAGE",()=>ak,"TelemetryCollector",()=>aa,"eventComponentMounted",()=>ah,"eventFrameworkMetadata",()=>aj,"eventMethodCalled",()=>ai,"eventPrebuiltComponentMounted",()=>af,"eventPrebuiltComponentOpened",()=>ag,"eventThemeUsage",()=>al],80979),a.s([],21835);var an=a.i(99472);let ao="reverification-error";a.i(61643);var ap=a.i(88247),aq=a.i(6713),ar=a.i(36180);a.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],31500);var as=Object.prototype.hasOwnProperty;let at=new WeakMap,au=()=>{},av=au(),aw=Object,ax=a=>a===av,ay=(a,b)=>({...a,...b}),az={},aA={},aB="undefined",aC=typeof document!=aB,aD=!1,aE=(a,b)=>{let c=at.get(a);return[()=>!ax(b)&&a.get(b)||az,d=>{if(!ax(b)){let e=a.get(b);b in aA||(aA[b]=e),c[5](b,ay(e,d),e||az)}},c[6],()=>!ax(b)&&b in aA?aA[b]:!ax(b)&&a.get(b)||az]},aF=!0,[aG,aH]=[au,au],aI={initFocus:a=>(aC&&document.addEventListener("visibilitychange",a),aG("focus",a),()=>{aC&&document.removeEventListener("visibilitychange",a),aH("focus",a)}),initReconnect:a=>{let b=()=>{aF=!0,a()},c=()=>{aF=!1};return aG("online",b),aG("offline",c),()=>{aH("online",b),aH("offline",c)}}},aJ=!an.default.useId,aK=!0,aL=an.useEffect,aM="undefined"!=typeof navigator&&navigator.connection;!aK&&aM&&(["slow-2g","2g"].includes(aM.effectiveType)||aM.saveData);let aN=new WeakMap,aO=(a,b)=>a===`[object ${b}]`,aP=0,aQ=a=>{let b,c,d=typeof a,e=aw.prototype.toString.call(a),f=aO(e,"Date"),g=aO(e,"RegExp"),h=aO(e,"Object");if(aw(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=aN.get(a))return b;if(b=++aP+"~",aN.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=aQ(a[c])+",";aN.set(a,b)}if(h){b="#";let d=aw.keys(a).sort();for(;!ax(c=d.pop());)ax(a[c])||(b+=c+":"+aQ(a[c])+",");aN.set(a,b)}}return b},aR=a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?aQ(a):"",b]},aS=0,aT=()=>++aS;async function aU(...a){let[b,c,d,e]=a,f=ay({populateCache:!0,throwOnError:!0},"boolean"==typeof e?{revalidate:e}:e||{}),g=f.populateCache,h=f.rollbackOnError,i=f.optimisticData,j=f.throwOnError;if("function"==typeof c){let a=[];for(let d of b.keys())!/^\$(inf|sub)\$/.test(d)&&c(b.get(d)._k)&&a.push(d);return Promise.all(a.map(k))}return k(c);async function k(c){let e,[k]=aR(c);if(!k)return;let[l,m]=aE(b,k),[n,o,p,q]=at.get(b),r=()=>{let a=n[k];return("function"==typeof f.revalidate?f.revalidate(l().data,c):!1!==f.revalidate)&&(delete p[k],delete q[k],a&&a[0])?a[0](2).then(()=>l().data):l().data};if(a.length<3)return r();let s=d,t=!1,u=aT();o[k]=[u,0];let v=!ax(i),w=l(),x=w.data,y=w._c,z=ax(y)?x:y;if(v&&m({data:i="function"==typeof i?i(z,x):i,_c:z}),"function"==typeof s)try{s=s(z)}catch(a){e=a,t=!0}if(s&&"function"==typeof s.then){let a;if(s=await s.catch(a=>{e=a,t=!0}),u!==o[k][0]){if(t)throw e;return s}t&&v&&(a=e,"function"==typeof h?h(a):!1!==h)&&(g=!0,m({data:z,_c:av}))}if(g&&!t&&("function"==typeof g?m({data:g(s,z),error:av,_c:av}):m({data:s,error:av,_c:av})),o[k][1]=aT(),Promise.resolve(r()).then(()=>{m({_c:av})}),t){if(j)throw e;return}return s}}let aV=(a,b)=>{if(!at.has(a)){ay(aI,b);let c=Object.create(null),d=aU.bind(av,a),e=Object.create(null),f=(a,b)=>{let c=e[a]||[];return e[a]=c,c.push(b),()=>c.splice(c.indexOf(b),1)},g=(b,c,d)=>{a.set(b,c);let f=e[b];if(f)for(let a of f)a(c,d)},h=()=>{at.has(a)||at.set(a,[c,Object.create(null),Object.create(null),Object.create(null),d,g,f])};return h(),[a,d,h,au]}return[a,at.get(a)[4]]},[aW,aX]=aV(new Map),aY=ay({onLoadingSlow:au,onSuccess:au,onError:au,onErrorRetry:(a,b,c,d,e)=>{let f=c.errorRetryCount,g=e.retryCount,h=~~((Math.random()+.5)*(1<<(g<8?g:8)))*c.errorRetryInterval;(ax(f)||!(g>f))&&setTimeout(d,h,e)},onDiscarded:au,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:3e3,compare:function a(b,c){var d,e;if(b===c)return!0;if(b&&c&&(d=b.constructor)===c.constructor){if(d===Date)return b.getTime()===c.getTime();if(d===RegExp)return b.toString()===c.toString();if(d===Array){if((e=b.length)===c.length)for(;e--&&a(b[e],c[e]););return -1===e}if(!d||"object"==typeof b){for(d in e=0,b)if(as.call(b,d)&&++e&&!as.call(c,d)||!(d in c)||!a(b[d],c[d]))return!1;return Object.keys(c).length===e}}return b!=b&&c!=c},isPaused:()=>!1,cache:aW,mutate:aX,fallback:{}},{isOnline:()=>aF,isVisible:()=>{let a=aC&&document.visibilityState;return ax(a)||"hidden"!==a}}),aZ=(a,b)=>{let c=ay(a,b);if(b){let{use:d,fallback:e}=a,{use:f,fallback:g}=b;d&&f&&(c.use=d.concat(f)),e&&g&&(c.fallback=ay(e,g))}return c},a$=(0,an.createContext)({});var a_=a.i(31500);let a0="$inf$",a1=!1,a2=a1?window.__SWR_DEVTOOLS_USE__:[],a3=a=>"function"==typeof a[1]?[a[0],a[1],a[2]||{}]:[a[0],null,(null===a[1]?a[2]:a[1])||{}],a4=()=>ay(aY,(0,an.useContext)(a$)),a5=a2.concat(a=>(b,c,d)=>{let e=c&&((...a)=>{let[d]=aR(b),[,,,e]=at.get(aW);if(d.startsWith(a0))return c(...a);let f=e[d];return ax(f)?c(...a):(delete e[d],f)});return a(b,e,d)}),a6=(a,b)=>(...c)=>{let[d,e,f]=a3(c),g=(f.use||[]).concat(b);return a(d,e,{...f,use:g})};a1&&(window.__SWR_DEVTOOLS_REACT__=an.default);let a7=()=>{},a8=a7(),a9=(new WeakMap,an.default.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(b=>{a.status="fulfilled",a.value=b},b=>{a.status="rejected",a.reason=b}),a}})),ba={dedupe:!0},bb=aw.defineProperty(a=>{let{value:b}=a,c=(0,an.useContext)(a$),d="function"==typeof b,e=(0,an.useMemo)(()=>d?b(c):b,[d,c,b]),f=(0,an.useMemo)(()=>d?e:aZ(c,e),[d,c,e]),g=e&&e.provider,h=(0,an.useRef)(av);g&&!h.current&&(h.current=aV(g(f.cache||aW),e));let i=h.current;return i&&(f.cache=i[0],f.mutate=i[1]),aL(()=>{if(i)return i[2]&&i[2](),i[3]},[]),(0,an.createElement)(a$.Provider,ay(a,{value:f}))},"defaultValue",{value:aY}),bc=(b=(a,b,c)=>{let{cache:d,compare:e,suspense:f,fallbackData:g,revalidateOnMount:h,revalidateIfStale:i,refreshInterval:j,refreshWhenHidden:k,refreshWhenOffline:l,keepPreviousData:m}=c,[n,o,p,q]=at.get(d),[r,s]=aR(a),t=(0,an.useRef)(!1),u=(0,an.useRef)(!1),v=(0,an.useRef)(r),w=(0,an.useRef)(b),x=(0,an.useRef)(c),y=()=>x.current.isVisible()&&x.current.isOnline(),[z,A,B,C]=aE(d,r),D=(0,an.useRef)({}).current,E=ax(g)?ax(c.fallback)?av:c.fallback[r]:g,F=(a,b)=>{for(let c in D)if("data"===c){if(!e(a[c],b[c])&&(!ax(a[c])||!e(O,b[c])))return!1}else if(b[c]!==a[c])return!1;return!0},G=(0,an.useMemo)(()=>{let a=!!r&&!!b&&(ax(h)?!x.current.isPaused()&&!f&&!1!==i:h),c=b=>{let c=ay(b);return(delete c._k,a)?{isValidating:!0,isLoading:!0,...c}:c},d=z(),e=C(),g=c(d),j=d===e?g:c(e),k=g;return[()=>{let a=c(z());return F(a,k)?(k.data=a.data,k.isLoading=a.isLoading,k.isValidating=a.isValidating,k.error=a.error,k):(k=a,a)},()=>j]},[d,r]),H=(0,ar.useSyncExternalStore)((0,an.useCallback)(a=>B(r,(b,c)=>{F(c,b)||a()}),[d,r]),G[0],G[1]),I=!t.current,J=n[r]&&n[r].length>0,K=H.data,L=ax(K)?E&&"function"==typeof E.then?a9(E):E:K,M=H.error,N=(0,an.useRef)(L),O=m?ax(K)?ax(N.current)?L:N.current:K:L,P=(!J||!!ax(M))&&(I&&!ax(h)?h:!x.current.isPaused()&&(f?!ax(L)&&i:ax(L)||i)),Q=!!(r&&b&&I&&P),R=ax(H.isValidating)?Q:H.isValidating,S=ax(H.isLoading)?Q:H.isLoading,T=(0,an.useCallback)(async a=>{let b,d,f=w.current;if(!r||!f||u.current||x.current.isPaused())return!1;let g=!0,h=a||{},i=!p[r]||!h.dedupe,j=()=>aJ?!u.current&&r===v.current&&t.current:r===v.current,k={isValidating:!1,isLoading:!1},l=()=>{A(k)},m=()=>{let a=p[r];a&&a[1]===d&&delete p[r]},q={isValidating:!0};ax(z().data)&&(q.isLoading=!0);try{if(i&&(A(q),c.loadingTimeout&&ax(z().data)&&setTimeout(()=>{g&&j()&&x.current.onLoadingSlow(r,c)},c.loadingTimeout),p[r]=[f(s),aT()]),[b,d]=p[r],b=await b,i&&setTimeout(m,c.dedupingInterval),!p[r]||p[r][1]!==d)return i&&j()&&x.current.onDiscarded(r),!1;k.error=av;let a=o[r];if(!ax(a)&&(d<=a[0]||d<=a[1]||0===a[1]))return l(),i&&j()&&x.current.onDiscarded(r),!1;let h=z().data;k.data=e(h,b)?h:b,i&&j()&&x.current.onSuccess(b,r,c)}catch(c){m();let a=x.current,{shouldRetryOnError:b}=a;!a.isPaused()&&(k.error=c,i&&j())&&(a.onError(c,r,a),(!0===b||"function"==typeof b&&b(c))&&(!x.current.revalidateOnFocus||!x.current.revalidateOnReconnect||y())&&a.onErrorRetry(c,r,a,a=>{let b=n[r];b&&b[0]&&b[0](a_.ERROR_REVALIDATE_EVENT,a)},{retryCount:(h.retryCount||0)+1,dedupe:!0}))}return g=!1,l(),!0},[r,d]),U=(0,an.useCallback)((...a)=>aU(d,v.current,...a),[]);if(aL(()=>{w.current=b,x.current=c,ax(K)||(N.current=K)}),aL(()=>{var a;let b;if(!r)return;let c=T.bind(av,ba),d=0;x.current.revalidateOnFocus&&(d=Date.now()+x.current.focusThrottleInterval);let e=(a=(a,b={})=>{if(a==a_.FOCUS_EVENT){let a=Date.now();x.current.revalidateOnFocus&&a>d&&y()&&(d=a+x.current.focusThrottleInterval,c())}else if(a==a_.RECONNECT_EVENT)x.current.revalidateOnReconnect&&y()&&c();else if(a==a_.MUTATE_EVENT)return T();else if(a==a_.ERROR_REVALIDATE_EVENT)return T(b)},(b=n[r]||(n[r]=[])).push(a),()=>{let c=b.indexOf(a);c>=0&&(b[c]=b[b.length-1],b.pop())});if(u.current=!1,v.current=r,t.current=!0,A({_k:s}),P&&!p[r])if(ax(L)||aK)c();else setTimeout(c,1);return()=>{u.current=!0,e()}},[r]),aL(()=>{let a;function b(){let b="function"==typeof j?j(z().data):j;b&&-1!==a&&(a=setTimeout(c,b))}function c(){!z().error&&(k||x.current.isVisible())&&(l||x.current.isOnline())?T(ba).then(b):b()}return b(),()=>{a&&(clearTimeout(a),a=-1)}},[j,k,l,r]),(0,an.useDebugValue)(O),f&&ax(L)&&r){if(!aJ&&aK)throw Error("Fallback data is required when using Suspense in SSR.");w.current=b,x.current=c,u.current=!1;let a=q[r];if(ax(a)||a9(U(a)),ax(M)){let a=T(ba);ax(O)||(a.status="fulfilled",a.value=!0),a9(a)}else throw M}return{mutate:U,get data(){return D.data=!0,O},get error(){return D.error=!0,M},get isValidating(){return D.isValidating=!0,R},get isLoading(){return D.isLoading=!0,S}}},function(...a){let c=a4(),[d,e,f]=a3(a),g=aZ(c,f),h=b,{use:i}=g,j=(i||[]).concat(a5);for(let a=j.length;a--;)h=j[a](h);return h(d,e||g.fetcher||null,g)}),bd=()=>{},be=bd(),bf=Object,bg=a=>a===be,bh=new WeakMap,bi=(a,b)=>a===`[object ${b}]`,bj=0,bk=a=>{let b,c,d=typeof a,e=bf.prototype.toString.call(a),f=bi(e,"Date"),g=bi(e,"RegExp"),h=bi(e,"Object");if(bf(a)!==a||f||g)b=f?a.toJSON():"symbol"==d?a.toString():"string"==d?JSON.stringify(a):""+a;else{if(b=bh.get(a))return b;if(b=++bj+"~",bh.set(a,b),Array.isArray(a)){for(c=0,b="@";c<a.length;c++)b+=bk(a[c])+",";bh.set(a,b)}if(h){b="#";let d=bf.keys(a).sort();for(;!bg(c=d.pop());)bg(a[c])||(b+=c+":"+bk(a[c])+",");bh.set(a,b)}}return b},bl=Promise.resolve(),bm=a6(bc,a=>(b,c,d)=>{let e,f=(0,an.useRef)(!1),{cache:g,initialSize:h=1,revalidateAll:i=!1,persistSize:j=!1,revalidateFirstPage:k=!0,revalidateOnMount:l=!1,parallel:m=!1}=d,[,,,n]=at.get(aW);try{(e=(a=>{if("function"==typeof a)try{a=a()}catch(b){a=""}let b=a;return[a="string"==typeof a?a:(Array.isArray(a)?a.length:a)?bk(a):"",b]})(b?b(0,null):null)[0])&&(e=a0+e)}catch(a){}let[o,p,q]=aE(g,e),r=(0,an.useCallback)(()=>ax(o()._l)?h:o()._l,[g,e,h]);(0,ar.useSyncExternalStore)((0,an.useCallback)(a=>e?q(e,()=>{a()}):()=>{},[g,e]),r,r);let s=(0,an.useCallback)(()=>{let a=o()._l;return ax(a)?h:a},[e,h]),t=(0,an.useRef)(s());aL(()=>{if(!f.current){f.current=!0;return}e&&p({_l:j?t.current:s()})},[e,g]);let u=l&&!f.current,v=a(e,async a=>{let e=o()._i,f=o()._r;p({_r:av});let h=[],j=s(),[l]=aE(g,a),q=l().data,r=[],t=null;for(let a=0;a<j;++a){let[j,l]=aR(b(a,m?null:t));if(!j)break;let[o,p]=aE(g,j),s=o().data,v=i||e||ax(s)||k&&!a&&!ax(q)||u||q&&!ax(q[a])&&!d.compare(q[a],s);if(c&&("function"==typeof f?f(s,l):v)){let b=async()=>{if(j in n){let a=n[j];delete n[j],s=await a}else s=await c(l);p({data:s,_k:l}),h[a]=s};m?r.push(b):await b()}else h[a]=s;m||(t=s)}return m&&await Promise.all(r.map(a=>a())),p({_i:av}),h},d),w=(0,an.useCallback)(function(a,b){let c="boolean"==typeof b?{revalidate:b}:b||{},d=!1!==c.revalidate;return e?(d&&(ax(a)?p({_i:!0,_r:c.revalidate}):p({_i:!1,_r:c.revalidate})),arguments.length?v.mutate(a,{...c,revalidate:d}):v.mutate()):bl},[e,g]),x=(0,an.useCallback)(a=>{let c;if(!e)return bl;let[,d]=aE(g,e);if("function"==typeof a?c=a(s()):"number"==typeof a&&(c=a),"number"!=typeof c)return bl;d({_l:c}),t.current=c;let f=[],[h]=aE(g,e),i=null;for(let a=0;a<c;++a){let[c]=aR(b(a,i)),[d]=aE(g,c),e=c?d().data:av;if(ax(e))return w(h().data);f.push(e),i=e}return w(f)},[e,g,w,s]);return{size:s(),setSize:x,mutate:w,get data(){return v.data},get error(){return v.error},get isValidating(){return v.isValidating},get isLoading(){return v.isLoading}}});var bn=Object.prototype.hasOwnProperty;function bo(a,b,c){for(c of a.keys())if(bp(c,b))return c}function bp(a,b){var c,d,e;if(a===b)return!0;if(a&&b&&(c=a.constructor)===b.constructor){if(c===Date)return a.getTime()===b.getTime();if(c===RegExp)return a.toString()===b.toString();if(c===Array){if((d=a.length)===b.length)for(;d--&&bp(a[d],b[d]););return -1===d}if(c===Set){if(a.size!==b.size)return!1;for(d of a)if((e=d)&&"object"==typeof e&&!(e=bo(b,e))||!b.has(e))return!1;return!0}if(c===Map){if(a.size!==b.size)return!1;for(d of a)if((e=d[0])&&"object"==typeof e&&!(e=bo(b,e))||!bp(d[1],b.get(e)))return!1;return!0}if(c===ArrayBuffer)a=new Uint8Array(a),b=new Uint8Array(b);else if(c===DataView){if((d=a.byteLength)===b.byteLength)for(;d--&&a.getInt8(d)===b.getInt8(d););return -1===d}if(ArrayBuffer.isView(a)){if((d=a.byteLength)===b.byteLength)for(;d--&&a[d]===b[d];);return -1===d}if(!c||"object"==typeof a){for(c in d=0,a)if(bn.call(a,c)&&++d&&!bn.call(b,c)||!(c in b)||!bp(a[c],b[c]))return!1;return Object.keys(b).length===d}}return a!=a&&b!=b}let bq=aJ?a=>{a()}:an.default.startTransition,br=a6(bc,()=>(a,b,c={})=>{let{mutate:d}=a4(),e=(0,an.useRef)(a),f=(0,an.useRef)(b),g=(0,an.useRef)(c),h=(0,an.useRef)(0),[i,j,k]=(a=>{let[,b]=(0,an.useState)({}),c=(0,an.useRef)(!1),d=(0,an.useRef)(a),e=(0,an.useRef)({data:!1,error:!1,isValidating:!1}),f=(0,an.useCallback)(a=>{let f=!1,g=d.current;for(let b in a)Object.prototype.hasOwnProperty.call(a,b)&&g[b]!==a[b]&&(g[b]=a[b],e.current[b]&&(f=!0));f&&!c.current&&b({})},[]);return aL(()=>(c.current=!1,()=>{c.current=!0})),[d,e.current,f]})({data:av,error:av,isMutating:!1}),l=i.current,m=(0,an.useCallback)(async(a,b)=>{let[c,i]=aR(e.current);if(!f.current)throw Error("Can’t trigger the mutation: missing fetcher.");if(!c)throw Error("Can’t trigger the mutation: missing key.");let j=ay(ay({populateCache:!1,throwOnError:!0},g.current),b),l=aT();h.current=l,k({isMutating:!0});try{let b=await d(c,f.current(i,{arg:a}),ay(j,{throwOnError:!0}));return h.current<=l&&(bq(()=>k({data:b,isMutating:!1,error:void 0})),null==j.onSuccess||j.onSuccess.call(j,b,c,j)),b}catch(a){if(h.current<=l&&(bq(()=>k({error:a,isMutating:!1})),null==j.onError||j.onError.call(j,a,c,j),j.throwOnError))throw a}},[]),n=(0,an.useCallback)(()=>{h.current=aT(),k({data:av,error:av,isMutating:!1})},[]);return aL(()=>{e.current=a,f.current=b,g.current=c}),{trigger:m,reset:n,get data(){return j.data=!0,l.data},get error(){return j.error=!0,l.error},get isMutating(){return j.isMutating=!0,l.isMutating}}});function bs(a,b){if(!a)throw"string"==typeof b?Error(b):Error(`${b.displayName} not found`)}let bt=(a,b)=>{let{assertCtxFn:c=bs}=b||{},d=an.default.createContext(void 0);return d.displayName=a,[d,()=>{let b=an.default.useContext(d);return c(b,`${a} not found`),b.value},()=>{let a=an.default.useContext(d);return a?a.value:{}}]};function bu({swrConfig:a,children:b}){return(0,aq.jsx)(bb,{value:a,children:b})}let[bv,bw]=bt("ClerkInstanceContext"),[bx,by]=bt("UserContext"),[bz,bA]=bt("ClientContext"),[bB,bC]=bt("SessionContext");an.default.createContext({});let[bD,bE]=bt("CheckoutContext"),bF=({children:a,...b})=>(0,aq.jsx)(bD.Provider,{value:{value:b},children:a}),[bG,bH]=bt("OrganizationContext"),bI=({children:a,organization:b,swrConfig:c})=>(0,aq.jsx)(bu,{swrConfig:c,children:(0,aq.jsx)(bG.Provider,{value:{value:{organization:b}},children:a})});function bJ(a){if(!an.default.useContext(bv)){if("function"==typeof a)return void a();throw Error(`${a} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}function bK(a,b){let c=new Set(Object.keys(b)),d={};for(let b of Object.keys(a))c.has(b)||(d[b]=a[b]);return d}let bL=(a,b)=>{let c="boolean"==typeof a&&a,d=(0,an.useRef)(c?b.initialPage:a?.initialPage??b.initialPage),e=(0,an.useRef)(c?b.pageSize:a?.pageSize??b.pageSize),f={};for(let d of Object.keys(b))f[d]=c?b[d]:a?.[d]??b[d];return{...f,initialPage:d.current,pageSize:e.current}},bM={dedupingInterval:6e4,focusThrottleInterval:12e4},bN={...bM,revalidateFirstPage:!1},bO=(a,b,c,d)=>{let e,f,[g,h]=(0,an.useState)(a.initialPage??1),i=(0,an.useRef)(a.initialPage??1),j=(0,an.useRef)(a.pageSize??10),k=c.enabled??!0,l="cache"===c.__experimental_mode,m=c.infinite??!1,n=c.keepPreviousData??!1,o=c.isSignedIn,p={...d,...a,initialPage:g,pageSize:j.current},q=(e=(0,an.useRef)(o),f=(0,an.useRef)(null),e.current!==o&&(f.current=e.current,e.current=o),f.current),r=!m&&k&&(!!l||!!b),s=!l&&b?c=>{if(!1===o||!1===r)return null;let e=bK(c,d);return b({...a,...e})}:null,{data:t,isValidating:u,isLoading:v,error:w,mutate:x}=bc("boolean"==typeof o?!0===q&&!1===o||o&&r?p:null:r?p:null,s,{keepPreviousData:n,...bM}),{data:y,isLoading:z,isValidating:A,error:B,size:C,setSize:D,mutate:E}=bm(b=>m&&k&&!1!==o?{...a,...d,initialPage:i.current+b,pageSize:j.current}:null,a=>{let c=bK(a,d);return b?.(c)},bN),F=(0,an.useMemo)(()=>m?C:g,[m,C,g]),G=(0,an.useCallback)(a=>m?void D(a):h(a),[D,m]),H=(0,an.useMemo)(()=>m?y?.map(a=>a?.data).flat()??[]:t?.data??[],[m,t,y]),I=(0,an.useMemo)(()=>m?y?.[y?.length-1]?.total_count||0:t?.total_count??0,[m,t,y]),J=m?z:v,K=m?A:u,L=(m?B:w)??null,M=(0,an.useCallback)(()=>{G(a=>Math.max(0,a+1))},[G]),N=(0,an.useCallback)(()=>{G(a=>Math.max(0,a-1))},[G]),O=(i.current-1)*j.current,P=Math.ceil((I-O)/j.current),Q=I-O*j.current>F*j.current,R=(F-1)*j.current>O*j.current,S=m?a=>E(a,{revalidate:!1}):a=>x(a,{revalidate:!1});return{data:H,count:I,error:L,isLoading:J,isFetching:K,isError:!!L,page:F,pageCount:P,fetchPage:G,fetchNext:M,fetchPrevious:N,hasNextPage:Q,hasPreviousPage:R,revalidate:m?()=>E():()=>x(),setData:S}},bP={data:void 0,count:void 0,error:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0};function bQ(a){var b,c;let{domains:d,membershipRequests:e,memberships:f,invitations:g}=a||{};bJ("useOrganization");let{organization:h}=bH(),i=bC(),j=bL(d,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,enrollmentMode:void 0}),k=bL(e,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),l=bL(f,{initialPage:1,pageSize:10,role:void 0,keepPreviousData:!1,infinite:!1,query:void 0}),m=bL(g,{initialPage:1,pageSize:10,status:["pending"],keepPreviousData:!1,infinite:!1}),n=bw();n.telemetry?.record(ai("useOrganization"));let o=void 0===d?void 0:{initialPage:j.initialPage,pageSize:j.pageSize,enrollmentMode:j.enrollmentMode},p=void 0===e?void 0:{initialPage:k.initialPage,pageSize:k.pageSize,status:k.status},q=void 0===f?void 0:{initialPage:l.initialPage,pageSize:l.pageSize,role:l.role,query:l.query},r=void 0===g?void 0:{initialPage:m.initialPage,pageSize:m.pageSize,status:m.status},s=bO({...o},h?.getDomains,{keepPreviousData:j.keepPreviousData,infinite:j.infinite,enabled:!!o},{type:"domains",organizationId:h?.id}),t=bO({...p},h?.getMembershipRequests,{keepPreviousData:k.keepPreviousData,infinite:k.infinite,enabled:!!p},{type:"membershipRequests",organizationId:h?.id}),u=bO(q||{},h?.getMemberships,{keepPreviousData:l.keepPreviousData,infinite:l.infinite,enabled:!!q},{type:"members",organizationId:h?.id}),v=bO({...r},h?.getInvitations,{keepPreviousData:m.keepPreviousData,infinite:m.infinite,enabled:!!r},{type:"invitations",organizationId:h?.id});return void 0===h?{isLoaded:!1,organization:void 0,membership:void 0,domains:bP,membershipRequests:bP,memberships:bP,invitations:bP}:null===h?{isLoaded:!0,organization:null,membership:null,domains:null,membershipRequests:null,memberships:null,invitations:null}:!n.loaded&&h?{isLoaded:!0,organization:h,membership:void 0,domains:bP,membershipRequests:bP,memberships:bP,invitations:bP}:{isLoaded:n.loaded,organization:h,membership:(b=i.user.organizationMemberships,c=h.id,b.find(a=>a.organization.id===c)),domains:s,membershipRequests:t,memberships:u,invitations:v}}let bR={data:void 0,count:void 0,error:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0};function bS(a){let{userMemberships:b,userInvitations:c,userSuggestions:d}=a||{};bJ("useOrganizationList");let e=bL(b,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1}),f=bL(c,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),g=bL(d,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),h=bw(),i=by();h.telemetry?.record(ai("useOrganizationList"));let j=void 0===b?void 0:{initialPage:e.initialPage,pageSize:e.pageSize},k=void 0===c?void 0:{initialPage:f.initialPage,pageSize:f.pageSize,status:f.status},l=void 0===d?void 0:{initialPage:g.initialPage,pageSize:g.pageSize,status:g.status},m=!!(h.loaded&&i),n=bO(j||{},i?.getOrganizationMemberships,{keepPreviousData:e.keepPreviousData,infinite:e.infinite,enabled:!!j},{type:"userMemberships",userId:i?.id}),o=bO({...k},i?.getOrganizationInvitations,{keepPreviousData:f.keepPreviousData,infinite:f.infinite,enabled:!!k},{type:"userInvitations",userId:i?.id}),p=bO({...l},i?.getOrganizationSuggestions,{keepPreviousData:g.keepPreviousData,infinite:g.infinite,enabled:!!l},{type:"userSuggestions",userId:i?.id});return m?{isLoaded:m,setActive:h.setActive,createOrganization:h.createOrganization,userMemberships:n,userInvitations:o,userSuggestions:p}:{isLoaded:!1,createOrganization:void 0,setActive:void 0,userMemberships:bR,userInvitations:bR,userSuggestions:bR}}let bT=an.default.useEffect,bU="useSession",bV=()=>{bJ(bU);let a=bC(),b=bw();return(b.telemetry?.record(ai(bU)),void 0===a)?{isLoaded:!1,isSignedIn:void 0,session:void 0}:null===a?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:b.isSignedIn,session:a}},bW="useSessionList",bX=()=>{bJ(bW);let a=bw(),b=bA(),c=bw();return(c.telemetry?.record(ai(bW)),b)?{isLoaded:!0,sessions:b.sessions,setActive:a.setActive}:{isLoaded:!1,sessions:void 0,setActive:void 0}},bY="useUser";function bZ(){bJ(bY);let a=by(),b=bw();return(b.telemetry?.record(ai(bY)),void 0===a)?{isLoaded:!1,isSignedIn:void 0,user:void 0}:null===a?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:a}}let b$=()=>(bJ("useClerk"),bw()),b_=bp;async function b0(a){try{let b=await a;if(b instanceof Response)return b.json();return b}catch(a){if(J(a)&&a.errors.find(({code:a})=>"session_reverification_required"===a))return{clerk_error:{type:"forbidden",reason:ao,metadata:{reverification:void 0}}};throw a}}let b1=(a,b)=>{let{__internal_openReverification:c,telemetry:d}=b$(),e=(0,an.useRef)(a),f=(0,an.useRef)(b);return d?.record(ai("useReverification",{onNeedsReverification:!!b?.onNeedsReverification})),bT(()=>{e.current=a,f.current=b}),(0,an.useCallback)((...a)=>{var b;return(b={openUIComponent:c,telemetry:d,...f.current},function(a){return async(...c)=>{let d,e=await b0(a(...c));if((d=e)&&"object"==typeof d&&"clerk_error"in d&&d.clerk_error?.type==="forbidden"&&d.clerk_error?.reason===ao){let d=(0,ap.createDeferredPromise$1)(),f=V(e.clerk_error.metadata?.reverification),g=f?f().level:void 0,h=()=>{d.reject(new C("User cancelled attempted verification",{code:"reverification_cancelled"}))},i=()=>{d.resolve(!0)};void 0===b.onNeedsReverification?b.openUIComponent?.({level:g,afterVerification:i,afterVerificationCancelled:h}):b.onNeedsReverification({cancel:h,complete:i,level:g}),await d.promise,e=await b0(a(...c))}return e}})(e.current)(...a)},[c,d])};function b2({hookName:a,resourceType:b,useFetcher:c,options:d}){return function(e){let{for:f,...g}=e||{},h=f||"user";bJ(a);let i=c(h),j=bL(g,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,__experimental_mode:void 0}),k=bw(),l=k.__unstable__environment,m=by(),{organization:n}=bH();k.telemetry?.record(ai(a));let o="organization"===h,p=void 0===g?void 0:{initialPage:j.initialPage,pageSize:j.pageSize,...d?.unauthenticated?{}:o?{orgId:n?.id}:{}},q=o?l?.commerceSettings.billing.organization.enabled:l?.commerceSettings.billing.user.enabled,r=!!p&&k.loaded&&!!q;return bO(p||{},i,{keepPreviousData:j.keepPreviousData,infinite:j.infinite,enabled:r,...d?.unauthenticated?{}:{isSignedIn:!!m},__experimental_mode:j.__experimental_mode},{type:b,...d?.unauthenticated?{for:h}:{userId:m?.id,...o?{orgId:n?.id}:{}}})}}b2({hookName:"useStatements",resourceType:"billing-statements",useFetcher:()=>{let a=bw();if(a.loaded)return a.billing.getStatements}}),b2({hookName:"usePaymentAttempts",resourceType:"billing-payment-attempts",useFetcher:()=>{let a=bw();if(a.loaded)return a.billing.getPaymentAttempts}}),b2({hookName:"usePaymentMethods",resourceType:"commerce-payment-methods",useFetcher:a=>{let{organization:b}=bH(),c=by();return"organization"===a?b?.getPaymentMethods:c?.getPaymentMethods}}),b2({hookName:"usePlans",resourceType:"billing-plans",useFetcher:a=>{let b=bw();if(b.loaded)return c=>b.billing.getPlans({...c,for:a})},options:{unauthenticated:!0}});let b3=a=>{let b=bE(),{for:c,planId:d,planPeriod:e}=a||b,f=b$(),{organization:g}=bQ(),{isLoaded:h,user:i}=bZ();if(!h)throw Error("Clerk: Ensure that `useCheckout` is inside a component wrapped with `<ClerkLoaded />`.");if(!i)throw Error("Clerk: Ensure that `useCheckout` is inside a component wrapped with `<SignedIn />`.");if("organization"===c&&!g)throw Error("Clerk: Ensure your flow checks for an active organization. Retrieve `orgId` from `useAuth()` and confirm it is defined. For SSR, see: https://clerk.com/docs/reference/backend/types/auth-object#how-to-access-the-auth-object");let j=(0,an.useMemo)(()=>f.__experimental_checkout({planId:d,planPeriod:e,for:c}),[i.id,g?.id,d,e,c]),k=(0,an.useSyncExternalStore)(a=>j.subscribe(a),()=>j.getState(),()=>j.getState());return{checkout:{...(0,an.useMemo)(()=>{if(!k.checkout)return{id:null,externalClientSecret:null,externalGatewayId:null,totals:null,isImmediatePlanChange:null,planPeriod:null,plan:null,paymentMethod:null,freeTrialEndsAt:null,payer:null,needsPaymentMethod:null};let{reload:a,confirm:b,pathRoot:c,...d}=k.checkout;return d},[k.checkout]),getState:j.getState,start:j.start,confirm:j.confirm,clear:j.clear,finalize:j.finalize,isStarting:k.isStarting,isConfirming:k.isConfirming,error:k.error,status:k.status,fetchStatus:k.fetchStatus}}},b4=a=>{let b=(0,an.useRef)(a);return(0,an.useEffect)(()=>{b.current=a},[a]),b.current},b5=(a,b,c)=>{let d=!!c,e=(0,an.useRef)(c);(0,an.useEffect)(()=>{e.current=c},[c]),(0,an.useEffect)(()=>{if(!d||!a)return()=>{};let c=(...a)=>{e.current&&e.current(...a)};return a.on(b,c),()=>{a.off(b,c)}},[d,b,a,e])},b6=an.default.createContext(null);b6.displayName="ElementsContext";let b7=(a,b)=>{if(!a)throw Error(`Could not find Elements context; You need to wrap the part of your app that ${b} in an <Elements> provider.`);return a},b8=({stripe:a,options:b,children:c})=>{let d=an.default.useMemo(()=>cb(a),[a]),[e,f]=an.default.useState(()=>({stripe:"sync"===d.tag?d.stripe:null,elements:"sync"===d.tag?d.stripe.elements(b):null}));an.default.useEffect(()=>{let a=!0,c=a=>{f(c=>c.stripe?c:{stripe:a,elements:a.elements(b)})};return"async"!==d.tag||e.stripe?"sync"!==d.tag||e.stripe||c(d.stripe):d.stripePromise.then(b=>{b&&a&&c(b)}),()=>{a=!1}},[d,e,b]);let g=b4(a);an.default.useEffect(()=>{null!==g&&g!==a&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,a]);let h=b4(b);return an.default.useEffect(()=>{if(!e.elements)return;let a=cf(b,h,["clientSecret","fonts"]);a&&e.elements.update(a)},[b,h,e.elements]),(0,aq.jsx)(b6.Provider,{value:e,children:c})},b9="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ca=(a,b=b9)=>{if(null===a||ce(a))return a;throw Error(b)},cb=(a,b=b9)=>{if(cd(a))return{tag:"async",stripePromise:Promise.resolve(a).then(a=>ca(a,b))};let c=ca(a,b);return null===c?{tag:"empty"}:{tag:"sync",stripe:c}},cc=a=>null!==a&&"object"==typeof a,cd=a=>cc(a)&&"function"==typeof a.then,ce=a=>cc(a)&&"function"==typeof a.elements&&"function"==typeof a.createToken&&"function"==typeof a.createPaymentMethod&&"function"==typeof a.confirmCardPayment,cf=(a,b,c)=>cc(a)?Object.keys(a).reduce((d,e)=>{let f=!cc(b)||!ch(a[e],b[e]);return c.includes(e)?(f&&console.warn(`Unsupported prop change: options.${e} is not a mutable property.`),d):f?{...d||{},[e]:a[e]}:d},null):null,cg="[object Object]",ch=(a,b)=>{if(!cc(a)||!cc(b))return a===b;let c=Array.isArray(a);if(c!==Array.isArray(b))return!1;let d=Object.prototype.toString.call(a)===cg;if(d!==(Object.prototype.toString.call(b)===cg))return!1;if(!d&&!c)return a===b;let e=Object.keys(a),f=Object.keys(b);if(e.length!==f.length)return!1;let g={};for(let a=0;a<e.length;a+=1)g[e[a]]=!0;for(let a=0;a<f.length;a+=1)g[f[a]]=!0;let h=Object.keys(g);return h.length===e.length&&h.every(c=>ch(a[c],b[c]))},ci=a=>b7(an.default.useContext(b6),a),cj=(g="payment",c=`${g.charAt(0).toUpperCase()+g.slice(1)}Element`,(d=a=>{ci(`mounts <${c}>`);let{id:b,className:d}=a;return(0,aq.jsx)("div",{id:b,className:d})}).displayName=c,d.__elementType=g,d),[ck,cl]=bt("StripeLibsContext"),cm=({children:a})=>{let b=b$(),{data:c}=bc("clerk-stripe-sdk",async()=>({loadStripe:await b.__internal_loadStripeJs()}),{keepPreviousData:!0,revalidateOnFocus:!1,dedupingInterval:1/0});return(0,aq.jsx)(ck.Provider,{value:{value:c||null},children:a})},[cn,co]=bt("PaymentElementContext"),[cp,cq]=bt("StripeUtilsContext"),cr=({children:a})=>{let b=(()=>{let{stripe:a}=ci("calls useStripe()");return a})(),c=(()=>{let{elements:a}=b7(an.default.useContext(b6),"calls useElements()");return a})();return(0,aq.jsx)(cp.Provider,{value:{value:{stripe:b,elements:c}},children:a})},cs=({children:a})=>(0,aq.jsx)(cp.Provider,{value:{value:{}},children:a}),ct=({children:a,...b})=>{let c=((a="user")=>{let{organization:b}=bQ(),{user:c}=bZ(),d="organization"===a?b:c,e=cl(),{data:f,trigger:g}=br({key:"billing-payment-method-initialize",resourceId:d?.id},()=>d?.initializePaymentMethod({gateway:"stripe"})),h=b$().__unstable__environment;(0,an.useEffect)(()=>{d?.id&&g().catch(()=>{})},[d?.id]);let i=f?.externalGatewayId,j=f?.externalClientSecret,k=f?.paymentMethodOrder,l=h?.commerceSettings.billing.stripePublishableKey,{data:m}=bc(e&&i&&l?{key:"stripe-sdk",externalGatewayId:i,stripePublishableKey:l}:null,({stripePublishableKey:a,externalGatewayId:b})=>e?.loadStripe(a,{stripeAccount:b}),{keepPreviousData:!0,revalidateOnFocus:!1,dedupingInterval:6e4});return{stripe:m,initializePaymentMethod:g,externalClientSecret:j,paymentMethodOrder:k}})(b.for),[d,e]=(0,an.useState)(!1);return(0,aq.jsx)(cn.Provider,{value:{value:{...b,...c,setIsPaymentElementReady:e,isPaymentElementReady:d}},children:a})},cu=({children:a,...b})=>(0,aq.jsx)(cm,{children:(0,aq.jsx)(ct,{...b,children:(0,aq.jsx)(cv,{children:a})})}),cv=a=>{let{stripe:b,externalClientSecret:c,stripeAppearance:d}=co(),e=(()=>{let a=b$(),b="en";try{let c=a.__internal_getOption("localization");b=c?.locale||"en"}catch{}return b.split("-")[0]})();return b&&c?(0,aq.jsx)(b8,{stripe:b,options:{loader:"never",clientSecret:c,appearance:{variables:d},locale:e},children:(0,aq.jsx)(cr,{children:a.children})},c):(0,aq.jsx)(cs,{children:a.children})},cw=({fallback:a})=>{let{setIsPaymentElementReady:b,paymentMethodOrder:c,checkout:d,stripe:e,externalClientSecret:f,paymentDescription:g,for:h}=co(),i=b$().__unstable__environment,j=(0,an.useMemo)(()=>{if(d&&d.totals&&d.plan)return{recurringPaymentRequest:{paymentDescription:g||"",managementURL:"organization"===h?i?.displayConfig.organizationProfileUrl||"":i?.displayConfig.userProfileUrl||"",regularBilling:{amount:d.totals.totalDueNow?.amount||d.totals.grandTotal.amount,label:d.plan.name,recurringPaymentIntervalUnit:"annual"===d.planPeriod?"year":"month"}}}},[d,g,h,i]),k=(0,an.useMemo)(()=>({layout:{type:"tabs",defaultCollapsed:!1},paymentMethodOrder:c,applePay:j}),[j,c]),l=(0,an.useCallback)(()=>{b(!0)},[b]);return e&&f?(0,aq.jsx)(cj,{fallback:a,onReady:l,options:k}):(0,aq.jsx)(aq.Fragment,{children:a})},cx=()=>{throw Error("Clerk: Unable to submit, Stripe libraries are not yet loaded. Be sure to check `isFormReady` before calling `submit`.")},cy=()=>{let{isPaymentElementReady:a,initializePaymentMethod:b}=co(),{stripe:c,elements:d}=cq(),{externalClientSecret:e}=co(),f=(0,an.useCallback)(async()=>{if(!c||!d)return cx();let{setupIntent:a,error:b}=await c.confirmSetup({elements:d,confirmParams:{return_url:window.location.href},redirect:"if_required"});return b?{data:null,error:{gateway:"stripe",error:{code:b.code,message:b.message,type:b.type}}}:{data:{gateway:"stripe",paymentToken:a.payment_method},error:null}},[c,d]),g=(0,an.useCallback)(async()=>{if(!c||!d)return cx();await b()},[c,d,b]),h=!!(c&&e);return h?{submit:f,reset:g,isFormReady:a,provider:{name:"stripe"},isProviderReady:h}:{submit:cx,reset:cx,isFormReady:!1,provider:void 0,isProviderReady:!1}};a.s(["ClerkInstanceContext",()=>bv,"ClientContext",()=>bz,"OrganizationProvider",()=>bI,"SessionContext",()=>bB,"UserContext",()=>bx,"__experimental_CheckoutProvider",()=>bF,"__experimental_PaymentElement",()=>cw,"__experimental_PaymentElementProvider",()=>cu,"__experimental_useCheckout",()=>b3,"__experimental_usePaymentElement",()=>cy,"createContextAndHook",()=>bt,"isDeeplyEqual",()=>b_,"useAssertWrappedByClerkProvider",()=>bJ,"useClerk",()=>b$,"useClerkInstanceContext",()=>bw,"useClientContext",()=>bA,"useOrganization",()=>bQ,"useOrganizationList",()=>bS,"useReverification",()=>b1,"useSession",()=>bV,"useSessionContext",()=>bC,"useSessionList",()=>bX,"useUser",()=>bZ],4054);var cz=y({packageName:"@clerk/clerk-react"});function cA(a){cz.setMessages(a).setPackageName(a)}var[cB,cC]=bt("AuthContext"),cD="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",cE=a=>`You've passed multiple children components to <${a}/>. You can only pass a single child component or text.`,cF="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",cG="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",cH="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",cI="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",cJ="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",cK=a=>`<${a} /> can only accept <${a}.Page /> and <${a}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,cL=a=>`Missing props. <${a}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,cM=a=>`Missing props. <${a}.Link /> component requires the following props: url, label and labelIcon.`,cN=a=>`The <${a}/> component uses path-based routing by default unless a different routing strategy is provided using the \`routing\` prop. When path-based routing is used, you need to provide the path where the component is mounted on by using the \`path\` prop. Example: <${a} path={'/my-path'} />`,cO=a=>`The \`path\` prop will only be respected when the Clerk component uses path-based routing. To resolve this error, pass \`routing='path'\` to the <${a}/> component, or drop the \`path\` prop to switch to hash-based routing. For more details please refer to our docs: https://clerk.com/docs`,cP="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",cQ="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",cR="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",cS="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",cT="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",cU="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",cV="Missing props. <UserButton.Action /> component requires the following props: label.",cW=a=>{bJ(()=>{cz.throwMissingClerkProviderError({source:a})})},cX=a=>new Promise(b=>{let c=d=>{["ready","degraded"].includes(d)&&(b(),a.off("status",c))};a.on("status",c,{notify:!0})}),cY=(a={})=>{var b;cW("useAuth");let{treatPendingAsSignedOut:c,...d}=null!=a?a:{},e=cC();void 0===e.sessionId&&void 0===e.userId&&(e=null!=d?d:{});let f=bw(),g=(0,an.useCallback)(async a=>(await cX(f),f.session)?f.session.getToken(a):null,[f]),h=(0,an.useCallback)(async(...a)=>(await cX(f),f.signOut(...a)),[f]);return null==(b=f.telemetry)||b.record(ai("useAuth",{treatPendingAsSignedOut:c})),cZ({...e,getToken:g,signOut:h},{treatPendingAsSignedOut:c})};function cZ(a,{treatPendingAsSignedOut:b=!0}={}){let{userId:c,orgId:d,orgRole:e,has:f,signOut:g,getToken:h,orgPermissions:i,factorVerificationAge:j,sessionClaims:k}=null!=a?a:{},l=(0,an.useCallback)(a=>{let b;return f?f(a):(b={userId:c,orgId:d,orgRole:e,orgPermissions:i,factorVerificationAge:j,features:(null==k?void 0:k.fea)||"",plans:(null==k?void 0:k.pla)||""},a=>{if(!b.userId)return!1;let c=((a,b)=>{let{features:c,plans:d}=b;return a.feature&&c?T(c,a.feature):a.plan&&d?T(d,a.plan):null})(a,b),d=((a,b)=>{let{orgId:c,orgRole:d,orgPermissions:e}=b;return(a.role||a.permission)&&c&&d&&e?a.permission?e.includes(a.permission.replace(/^(org:)*/,"org:")):a.role?d.replace(/^(org:)*/,"org:")===a.role.replace(/^(org:)*/,"org:"):null:null})(a,b),e=((a,{factorVerificationAge:b})=>{if(!a.reverification||!b)return null;let c=V(a.reverification);if(!c)return null;let{level:d,afterMinutes:e}=c(),[f,g]=b,h=-1!==f?e>f:null,i=-1!==g?e>g:null;switch(d){case"first_factor":return h;case"second_factor":return -1!==g?i:h;case"multi_factor":return -1===g?h:h&&i}})(a,b);return[c||d,e].some(a=>null===a)?[c||d,e].some(a=>!0===a):[c||d,e].every(a=>!0===a)})(a)},[f,c,d,e,i,j,k]),m=(({authObject:{sessionId:a,sessionStatus:b,userId:c,actor:d,orgId:e,orgRole:f,orgSlug:g,signOut:h,getToken:i,has:j,sessionClaims:k},options:{treatPendingAsSignedOut:l=!0}})=>void 0===a&&void 0===c?{isLoaded:!1,isSignedIn:void 0,sessionId:a,sessionClaims:void 0,userId:c,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:h,getToken:i}:null===a&&null===c?{isLoaded:!0,isSignedIn:!1,sessionId:a,userId:c,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:h,getToken:i}:l&&"pending"===b?{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:h,getToken:i}:a&&k&&c&&e&&f?{isLoaded:!0,isSignedIn:!0,sessionId:a,sessionClaims:k,userId:c,actor:d||null,orgId:e,orgRole:f,orgSlug:g||null,has:j,signOut:h,getToken:i}:a&&k&&c&&!e?{isLoaded:!0,isSignedIn:!0,sessionId:a,sessionClaims:k,userId:c,actor:d||null,orgId:null,orgRole:null,orgSlug:null,has:j,signOut:h,getToken:i}:void 0)({authObject:{...a,getToken:h,signOut:g,has:l},options:{treatPendingAsSignedOut:b}});return m||cz.throw("Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support")}function c$(a){let{startEmailLinkFlow:b,cancelEmailLinkFlow:c}=an.default.useMemo(()=>a.createEmailLinkFlow(),[a]);return an.default.useEffect(()=>c,[]),{startEmailLinkFlow:b,cancelEmailLinkFlow:c}}var c_=()=>{var a;cW("useSignIn");let b=bw(),c=bA();return(null==(a=b.telemetry)||a.record(ai("useSignIn")),c)?{isLoaded:!0,signIn:c.signIn,setActive:b.setActive}:{isLoaded:!1,signIn:void 0,setActive:void 0}},c0=()=>{var a;cW("useSignUp");let b=bw(),c=bA();return(null==(a=b.telemetry)||a.record(ai("useSignUp")),c)?{isLoaded:!0,signUp:c.signUp,setActive:b.setActive}:{isLoaded:!1,signUp:void 0,setActive:void 0}},c1=(a,b)=>{let c=("string"==typeof b?b:null==b?void 0:b.component)||a.displayName||a.name||"Component";a.displayName=c;let d="string"==typeof b?void 0:b,e=b=>{cW(c||"withClerk");let e=bw();return e.loaded||(null==d?void 0:d.renderWhileLoading)?an.default.createElement(a,{...b,component:c,clerk:e}):null};return e.displayName=`withClerk(${c})`,e};a.s(["AuthContext",()=>cB,"IsomorphicClerkContext",()=>bv,"customLinkWrongProps",()=>cM,"customMenuItemsIgnoredComponent",()=>cQ,"customPageWrongProps",()=>cL,"customPagesIgnoredComponent",()=>cK,"errorThrower",()=>cz,"incompatibleRoutingWithPathProvidedError",()=>cO,"multipleChildrenInButtonComponent",()=>cE,"multipleClerkProvidersError",()=>cD,"noPathProvidedError",()=>cN,"organizationProfileLinkRenderedError",()=>cJ,"organizationProfilePageRenderedError",()=>cI,"setErrorThrowerOptions",()=>cA,"unsupportedNonBrowserDomainOrProxyUrlFunction",()=>cF,"useAssertWrappedByClerkProvider",()=>cW,"useAuth",()=>cY,"useDerivedAuth",()=>cZ,"useEmailLink",()=>c$,"useIsomorphicClerkContext",()=>bw,"useSignIn",()=>c_,"useSignUp",()=>c0,"userButtonIgnoredComponent",()=>cP,"userButtonMenuActionRenderedError",()=>cS,"userButtonMenuItemLinkWrongProps",()=>cU,"userButtonMenuItemsActionWrongsProps",()=>cV,"userButtonMenuItemsRenderedError",()=>cR,"userButtonMenuLinkRenderedError",()=>cT,"userProfileLinkRenderedError",()=>cH,"userProfilePageRenderedError",()=>cG,"withClerk",()=>c1],88548);var c2=a.i(52116);let c3=new Set,c4=(a,b,c)=>{let d=(0,c2.isTestEnvironment$1)()||(0,c2.isProductionEnvironment$1)(),e=c??a;c3.has(e)||d||(c3.add(e),console.warn(`Clerk - DEPRECATION WARNING: "${a}" is deprecated and will be removed in the next major release.
${b}`))};var c5=({children:a,treatPendingAsSignedOut:b})=>{cW("SignedIn");let{userId:c}=cY({treatPendingAsSignedOut:b});return c?a:null},c6=({children:a,treatPendingAsSignedOut:b})=>{cW("SignedOut");let{userId:c}=cY({treatPendingAsSignedOut:b});return null===c?a:null},c7=({children:a})=>(cW("ClerkLoaded"),bw().loaded)?a:null,c8=({children:a})=>(cW("ClerkLoading"),"loading"!==bw().status)?null:a,c9=({children:a})=>(cW("ClerkFailed"),"error"!==bw().status)?null:a,da=({children:a})=>(cW("ClerkDegraded"),"degraded"!==bw().status)?null:a,db=({children:a,fallback:b,treatPendingAsSignedOut:c,...d})=>{cW("Protect");let{isLoaded:e,has:f,userId:g}=cY({treatPendingAsSignedOut:c});if(!e)return null;let h=null!=b?b:null;return g?"function"==typeof d.condition?d.condition(f)?a:h:d.role||d.permission||d.feature||d.plan?f(d)?a:h:a:h},dc=c1(({clerk:a,...b})=>{let{client:c,session:d}=a,e=c.signedInSessions?c.signedInSessions.length>0:c.activeSessions&&c.activeSessions.length>0;return an.default.useEffect(()=>{null===d&&e?a.redirectToAfterSignOut():a.redirectToSignIn(b)},[]),null},"RedirectToSignIn"),dd=c1(({clerk:a,...b})=>(an.default.useEffect(()=>{a.redirectToSignUp(b)},[]),null),"RedirectToSignUp"),de=c1(({clerk:a,...b})=>(an.default.useEffect(()=>{a.redirectToTasks(b)},[]),null),"RedirectToTasks"),df=c1(({clerk:a})=>(an.default.useEffect(()=>{c4("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),a.redirectToUserProfile()},[]),null),"RedirectToUserProfile"),dg=c1(({clerk:a})=>(an.default.useEffect(()=>{c4("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),a.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile"),dh=c1(({clerk:a})=>(an.default.useEffect(()=>{c4("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),a.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization"),di=c1(({clerk:a,...b})=>(an.default.useEffect(()=>{a.handleRedirectCallback(b)},[]),null),"AuthenticateWithRedirectCallback"),dj=({children:a})=>{cW("MultisessionAppSupport");let b=bC();return an.default.createElement(an.default.Fragment,{key:b?b.id:"no-users"},a)};a.s(["AuthenticateWithRedirectCallback",()=>di,"ClerkDegraded",()=>da,"ClerkFailed",()=>c9,"ClerkLoaded",()=>c7,"ClerkLoading",()=>c8,"MultisessionAppSupport",()=>dj,"Protect",()=>db,"RedirectToCreateOrganization",()=>dh,"RedirectToOrganizationProfile",()=>dg,"RedirectToSignIn",()=>dc,"RedirectToSignUp",()=>dd,"RedirectToTasks",()=>de,"RedirectToUserProfile",()=>df,"SignedIn",()=>c5,"SignedOut",()=>c6],41514),a.i(60869);var dk=a.i(92581),dl=an,dm=a.i(59132);let dn=(a,...b)=>{let c={...a};for(let a of b)delete c[a];return c};var dp=a=>b=>{try{return dl.default.Children.only(a)}catch{return cz.throw(cE(b))}},dq=(a,b)=>(a||(a=b),"string"==typeof a&&(a=dl.default.createElement("button",null,a)),a),dr=a=>(...b)=>{if(a&&"function"==typeof a)return a(...b)};function ds(a){return"function"==typeof a}var dt=new Map;function du(a,b,c){let d=a.displayName||a.name||b||"Component",e=d=>(!function(a,b,c=1){dl.default.useEffect(()=>{let d=dt.get(a)||0;return d==c?cz.throw(b):(dt.set(a,d+1),()=>{dt.set(a,(dt.get(a)||1)-1)})},[])}(b,c),dl.default.createElement(a,{...d}));return e.displayName=`withMaxAllowedInstancesGuard(${d})`,e}var dv=a=>{let[b,c]=(0,dl.useState)(new Map);return a.map(a=>({id:a.id,mount:b=>c(c=>new Map(c).set(String(a.id),b)),unmount:()=>c(b=>{let c=new Map(b);return c.set(String(a.id),null),c}),portal:()=>{let c=b.get(String(a.id));return c?(0,dm.createPortal)(a.component,c):null}}))},dw=(a,b)=>!!a&&dl.default.isValidElement(a)&&(null==a?void 0:a.type)===b,dx=(a,b)=>dA({children:a,reorderItemsLabels:["account","security"],LinkComponent:dO,PageComponent:dN,MenuItemsComponent:dR,componentName:"UserProfile"},b),dy=(a,b)=>dA({children:a,reorderItemsLabels:["general","members"],LinkComponent:dW,PageComponent:dV,componentName:"OrganizationProfile"},b),dz=a=>{let b=[],c=[dW,dV,dR,dN,dO];return dl.default.Children.forEach(a,a=>{c.some(b=>dw(a,b))||b.push(a)}),b},dA=(a,b)=>{let{children:c,LinkComponent:d,PageComponent:e,MenuItemsComponent:f,reorderItemsLabels:g,componentName:h}=a,{allowForAnyChildren:i=!1}=b||{},j=[];dl.default.Children.forEach(c,a=>{if(!dw(a,e)&&!dw(a,d)&&!dw(a,f)){a&&!i&&(0,dk.logErrorInDevMode)(cK(h));return}let{props:b}=a,{children:c,label:k,url:l,labelIcon:m}=b;if(dw(a,e))if(dB(b,g))j.push({label:k});else{if(!dC(b))return void(0,dk.logErrorInDevMode)(cL(h));j.push({label:k,labelIcon:m,children:c,url:l})}if(dw(a,d))if(!dD(b))return void(0,dk.logErrorInDevMode)(cM(h));else j.push({label:k,labelIcon:m,url:l})});let k=[],l=[],m=[];j.forEach((a,b)=>{if(dC(a)){k.push({component:a.children,id:b}),l.push({component:a.labelIcon,id:b});return}dD(a)&&m.push({component:a.labelIcon,id:b})});let n=dv(k),o=dv(l),p=dv(m),q=[],r=[];return j.forEach((a,b)=>{if(dB(a,g))return void q.push({label:a.label});if(dC(a)){let{portal:c,mount:d,unmount:e}=n.find(a=>a.id===b),{portal:f,mount:g,unmount:h}=o.find(a=>a.id===b);q.push({label:a.label,url:a.url,mount:d,unmount:e,mountIcon:g,unmountIcon:h}),r.push(c),r.push(f);return}if(dD(a)){let{portal:c,mount:d,unmount:e}=p.find(a=>a.id===b);q.push({label:a.label,url:a.url,mountIcon:d,unmountIcon:e}),r.push(c);return}}),{customPages:q,customPagesPortals:r}},dB=(a,b)=>{let{children:c,label:d,url:e,labelIcon:f}=a;return!c&&!e&&!f&&b.some(a=>a===d)},dC=a=>{let{children:b,label:c,url:d,labelIcon:e}=a;return!!b&&!!d&&!!e&&!!c},dD=a=>{let{children:b,label:c,url:d,labelIcon:e}=a;return!b&&!!d&&!!e&&!!c},dE=(a,b)=>{let{children:c,label:d,onClick:e,labelIcon:f}=a;return!c&&!e&&!f&&b.some(a=>a===d)},dF=a=>{let{label:b,labelIcon:c,onClick:d,open:e}=a;return!!c&&!!b&&("function"==typeof d||"string"==typeof e)},dG=a=>{let{label:b,href:c,labelIcon:d}=a;return!!c&&!!d&&!!b};function dH(a,b){(0,dl.useRef)();let[c,d]=(0,dl.useState)("rendering");return(0,dl.useEffect)(()=>{if(!a)throw Error("Clerk: no component name provided, unable to detect mount.")},[a,null==b?void 0:b.selector]),c}e=(h={childList:!0,subtree:!0,isReady:(a,b)=>{var c;return!!(null==a?void 0:a.childElementCount)&&(null==(c=null==a?void 0:a.matches)?void 0:c.call(a,b))&&a.childElementCount>0}}).isReady,a=>new Promise((b,c)=>{let{root:d=null==document?void 0:document.body,selector:f,timeout:g=0}=a;if(!d)return void c(Error("No root element provided"));let i=d;if(f&&(i=null==d?void 0:d.querySelector(f)),e(i,f))return void b();let j=new MutationObserver(a=>{for(let c of a)if(!i&&f&&(i=null==d?void 0:d.querySelector(f)),(h.childList&&"childList"===c.type||h.attributes&&"attributes"===c.type)&&e(i,f)){j.disconnect(),b();return}});j.observe(d,h),g>0&&setTimeout(()=>{j.disconnect(),c(Error(`Timeout waiting for ${f}`))},g)});var dI=a=>null==a?void 0:a.map(({mountIcon:a,unmountIcon:b,...c})=>c),dJ=class extends dl.default.PureComponent{constructor(){super(...arguments),this.rootRef=dl.default.createRef()}componentDidUpdate(a){var b,c,d,e;if(!("mount"in a)||!("mount"in this.props))return;let f=dn(a.props,"customPages","customMenuItems","children"),g=dn(this.props.props,"customPages","customMenuItems","children"),h=(null==(b=f.customPages)?void 0:b.length)!==(null==(c=g.customPages)?void 0:c.length),i=(null==(d=f.customMenuItems)?void 0:d.length)!==(null==(e=g.customMenuItems)?void 0:e.length),j=dI(a.props.customMenuItems),k=dI(this.props.props.customMenuItems);(!b_(f,g)||!b_(j,k)||h||i)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&("mount"in this.props&&this.props.mount(this.rootRef.current,this.props.props),"open"in this.props&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&("mount"in this.props&&this.props.unmount(this.rootRef.current),"open"in this.props&&this.props.close())}render(){let{hideRootHtmlElement:a=!1}=this.props,b={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return dl.default.createElement(dl.default.Fragment,null,!a&&dl.default.createElement("div",{...b}),this.props.children)}},dK=a=>{var b,c;return dl.default.createElement(dl.default.Fragment,null,null==(b=null==a?void 0:a.customPagesPortals)?void 0:b.map((a,b)=>(0,dl.createElement)(a,{key:b})),null==(c=null==a?void 0:a.customMenuItemsPortals)?void 0:c.map((a,b)=>(0,dl.createElement)(a,{key:b})))},dL=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountSignIn,unmount:a.unmountSignIn,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"SignIn",renderWhileLoading:!0}),dM=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountSignUp,unmount:a.unmountSignUp,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"SignUp",renderWhileLoading:!0});function dN({children:a}){return(0,dk.logErrorInDevMode)(cG),dl.default.createElement(dl.default.Fragment,null,a)}function dO({children:a}){return(0,dk.logErrorInDevMode)(cH),dl.default.createElement(dl.default.Fragment,null,a)}var dP=Object.assign(c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}},{customPages:g,customPagesPortals:h}=dx(d.children);return dl.default.createElement(dl.default.Fragment,null,e&&c,dl.default.createElement(dJ,{component:b,mount:a.mountUserProfile,unmount:a.unmountUserProfile,updateProps:a.__unstable__updateProps,props:{...d,customPages:g},rootProps:f},dl.default.createElement(dK,{customPagesPortals:h})))},{component:"UserProfile",renderWhileLoading:!0}),{Page:dN,Link:dO}),dQ=(0,dl.createContext)({mount:()=>{},unmount:()=>{},updateProps:()=>{}});function dR({children:a}){return(0,dk.logErrorInDevMode)(cR),dl.default.createElement(dl.default.Fragment,null,a)}function dS({children:a}){return(0,dk.logErrorInDevMode)(cS),dl.default.createElement(dl.default.Fragment,null,a)}function dT({children:a}){return(0,dk.logErrorInDevMode)(cT),dl.default.createElement(dl.default.Fragment,null,a)}var dU=Object.assign(c1(({clerk:a,component:b,fallback:c,...d})=>{var e;let f="rendering"===dH(b)||!a.loaded,g={...f&&c&&{style:{display:"none"}}},{customPages:h,customPagesPortals:i}=dx(d.children,{allowForAnyChildren:!!d.__experimental_asProvider}),j=Object.assign(d.userProfileProps||{},{customPages:h}),{customMenuItems:k,customMenuItemsPortals:l}=(({children:a,MenuItemsComponent:b,MenuActionComponent:c,MenuLinkComponent:d,UserProfileLinkComponent:e,UserProfilePageComponent:f,reorderItemsLabels:g,allowForAnyChildren:h=!1})=>{let i=[],j=[],k=[];dl.default.Children.forEach(a,a=>{if(!dw(a,b)&&!dw(a,e)&&!dw(a,f)){a&&!h&&(0,dk.logErrorInDevMode)(cP);return}if(dw(a,e)||dw(a,f))return;let{props:j}=a;dl.default.Children.forEach(j.children,a=>{if(!dw(a,c)&&!dw(a,d)){a&&(0,dk.logErrorInDevMode)(cQ);return}let{props:b}=a,{label:e,labelIcon:f,href:h,onClick:j,open:k}=b;if(dw(a,c))if(dE(b,g))i.push({label:e});else{if(!dF(b))return void(0,dk.logErrorInDevMode)(cV);let a={label:e,labelIcon:f};if(void 0!==j)i.push({...a,onClick:j});else{if(void 0===k)return void(0,dk.logErrorInDevMode)("Custom menu item must have either onClick or open property");i.push({...a,open:k.startsWith("/")?k:`/${k}`})}}if(dw(a,d))if(!dG(b))return void(0,dk.logErrorInDevMode)(cU);else i.push({label:e,labelIcon:f,href:h})})});let l=[],m=[];i.forEach((a,b)=>{dF(a)&&l.push({component:a.labelIcon,id:b}),dG(a)&&m.push({component:a.labelIcon,id:b})});let n=dv(l),o=dv(m);return i.forEach((a,b)=>{if(dE(a,g)&&j.push({label:a.label}),dF(a)){let{portal:c,mount:d,unmount:e}=n.find(a=>a.id===b),f={label:a.label,mountIcon:d,unmountIcon:e};"onClick"in a?f.onClick=a.onClick:"open"in a&&(f.open=a.open),j.push(f),k.push(c)}if(dG(a)){let{portal:c,mount:d,unmount:e}=o.find(a=>a.id===b);j.push({label:a.label,href:a.href,mountIcon:d,unmountIcon:e}),k.push(c)}}),{customMenuItems:j,customMenuItemsPortals:k}})({children:d.children,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:dR,MenuActionComponent:dS,MenuLinkComponent:dT,UserProfileLinkComponent:dO,UserProfilePageComponent:dN,allowForAnyChildren:null!=(e=({allowForAnyChildren:!!d.__experimental_asProvider}).allowForAnyChildren)&&e}),m=dz(d.children),n={mount:a.mountUserButton,unmount:a.unmountUserButton,updateProps:a.__unstable__updateProps,props:{...d,userProfileProps:j,customMenuItems:k}};return dl.default.createElement(dQ.Provider,{value:n},f&&c,a.loaded&&dl.default.createElement(dJ,{component:b,...n,hideRootHtmlElement:!!d.__experimental_asProvider,rootProps:g},d.__experimental_asProvider?m:null,dl.default.createElement(dK,{customPagesPortals:i,customMenuItemsPortals:l})))},{component:"UserButton",renderWhileLoading:!0}),{UserProfilePage:dN,UserProfileLink:dO,MenuItems:dR,Action:dS,Link:dT,__experimental_Outlet:function(a){let b=(0,dl.useContext)(dQ),c={...b,props:{...b.props,...a}};return dl.default.createElement(dJ,{...c})}});function dV({children:a}){return(0,dk.logErrorInDevMode)(cI),dl.default.createElement(dl.default.Fragment,null,a)}function dW({children:a}){return(0,dk.logErrorInDevMode)(cJ),dl.default.createElement(dl.default.Fragment,null,a)}var dX=Object.assign(c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}},{customPages:g,customPagesPortals:h}=dy(d.children);return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountOrganizationProfile,unmount:a.unmountOrganizationProfile,updateProps:a.__unstable__updateProps,props:{...d,customPages:g},rootProps:f},dl.default.createElement(dK,{customPagesPortals:h})))},{component:"OrganizationProfile",renderWhileLoading:!0}),{Page:dV,Link:dW}),dY=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountCreateOrganization,unmount:a.unmountCreateOrganization,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"CreateOrganization",renderWhileLoading:!0}),dZ=(0,dl.createContext)({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),d$=Object.assign(c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}},{customPages:g,customPagesPortals:h}=dy(d.children,{allowForAnyChildren:!!d.__experimental_asProvider}),i=Object.assign(d.organizationProfileProps||{},{customPages:g}),j=dz(d.children),k={mount:a.mountOrganizationSwitcher,unmount:a.unmountOrganizationSwitcher,updateProps:a.__unstable__updateProps,props:{...d,organizationProfileProps:i},rootProps:f,component:b};return a.__experimental_prefetchOrganizationSwitcher(),dl.default.createElement(dZ.Provider,{value:k},dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{...k,hideRootHtmlElement:!!d.__experimental_asProvider},d.__experimental_asProvider?j:null,dl.default.createElement(dK,{customPagesPortals:h}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0}),{OrganizationProfilePage:dV,OrganizationProfileLink:dW,__experimental_Outlet:function(a){let b=(0,dl.useContext)(dZ),c={...b,props:{...b.props,...a}};return dl.default.createElement(dJ,{...c})}}),d_=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountOrganizationList,unmount:a.unmountOrganizationList,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"OrganizationList",renderWhileLoading:!0}),d0=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,open:a.openGoogleOneTap,close:a.closeGoogleOneTap,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"GoogleOneTap",renderWhileLoading:!0}),d1=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountWaitlist,unmount:a.unmountWaitlist,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"Waitlist",renderWhileLoading:!0}),d2=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b,{selector:'[data-component-status="ready"]'})||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountPricingTable,unmount:a.unmountPricingTable,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"PricingTable",renderWhileLoading:!0}),d3=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountApiKeys,unmount:a.unmountApiKeys,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"ApiKeys",renderWhileLoading:!0}),d4=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountUserAvatar,unmount:a.unmountUserAvatar,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"UserAvatar",renderWhileLoading:!0}),d5=c1(({clerk:a,component:b,fallback:c,...d})=>{let e="rendering"===dH(b)||!a.loaded,f={...e&&c&&{style:{display:"none"}}};return dl.default.createElement(dl.default.Fragment,null,e&&c,a.loaded&&dl.default.createElement(dJ,{component:b,mount:a.mountTaskChooseOrganization,unmount:a.unmountTaskChooseOrganization,updateProps:a.__unstable__updateProps,props:d,rootProps:f}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});a.s(["APIKeys",()=>d3,"CreateOrganization",()=>dY,"GoogleOneTap",()=>d0,"OrganizationList",()=>d_,"OrganizationProfile",()=>dX,"OrganizationSwitcher",()=>d$,"PricingTable",()=>d2,"SignIn",()=>dL,"SignUp",()=>dM,"TaskChooseOrganization",()=>d5,"UserAvatar",()=>d4,"UserButton",()=>dU,"UserProfile",()=>dP,"Waitlist",()=>d1,"assertSingleChild",()=>dp,"isConstructor",()=>ds,"normalizeWithDefaultValue",()=>dq,"safeExecute",()=>dr,"withMaxAllowedInstancesGuard",()=>du],1882);var d6=a=>{throw TypeError(a)},d7=(a,b,c)=>b.has(a)||d6("Cannot "+c),d8=(a,b,c)=>(d7(a,b,"read from private field"),c?c.call(a):b.get(a)),d9=(a,b,c)=>b.has(a)?d6("Cannot add the same private member more than once"):b instanceof WeakSet?b.add(a):b.set(a,c),ea=(a,b,c,d)=>(d7(a,b,"write to private field"),d?d.call(a,c):b.set(a,c),c),eb=(a,b,c)=>(d7(a,b,"access private method"),c);a.s(["__privateAdd",()=>d9,"__privateGet",()=>d8,"__privateMethod",()=>eb,"__privateSet",()=>ea],58164),a.i(42577);let ec={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(a,b)=>b<5,retryImmediately:!1,jitter:!0},ed=async a=>new Promise(b=>setTimeout(b,a)),ee=(a,b)=>b?a*(1+Math.random()):a,ef=async(a,b={})=>{var c;let d,e=0,{shouldRetry:f,initialDelay:g,maxDelayBetweenRetries:h,factor:i,retryImmediately:j,jitter:k,onBeforeRetry:l}={...ec,...b},m=(c={initialDelay:g,maxDelayBetweenRetries:h,factor:i,jitter:k},d=0,async()=>{let a;await ed((a=ee(a=c.initialDelay*Math.pow(c.factor,d),c.jitter),Math.min(c.maxDelayBetweenRetries||a,a))),d++});for(;;)try{return await a()}catch(a){if(!f(a,++e))throw a;l&&await l(e),j&&1===e?await ed(ee(100,k)):await m()}};async function eg(a="",b){let{async:c,defer:d,beforeLoad:e,crossOrigin:f,nonce:g}=b||{};return ef(()=>new Promise((b,h)=>{a||h(Error("loadScript cannot be called without a src")),document&&document.body||h(Error("loadScript cannot be called when document does not exist"));let i=document.createElement("script");f&&i.setAttribute("crossorigin",f),i.async=c||!1,i.defer=d||!1,i.addEventListener("load",()=>{i.remove(),b(i)}),i.addEventListener("error",b=>{i.remove(),h(b.error??Error(`failed to load script: ${a}`))}),i.src=a,i.nonce=g,e?.(i),document.body.appendChild(i)}),{shouldRetry:(a,b)=>b<=5})}function eh(a){return a.startsWith("/")}let ei="Failed to load Clerk",{isDevOrStagingUrl:ej}=(0,W.createDevOrStagingUrlCache)(),ek=y({packageName:"@clerk/shared"});function el(a){ek.setPackageName({packageName:a})}function em(a){return new Promise((b,c)=>{let d=!1,e=()=>{},f=setTimeout(()=>{var a,b;d||(d=!0,a=f,b=g,clearTimeout(a),clearInterval(b),c(new C(ei,{code:"failed_to_load_clerk_js_timeout"})))},a);e();let g=setInterval(()=>{d?clearInterval(g):e()},100)})}let en=async a=>{let b=a?.scriptLoadTimeout??15e3;if(document.querySelector("script[data-clerk-js-script]"))return em(b);if(!a?.publishableKey)return ek.throwMissingPublishableKeyError(),null;let c=em(b);return eg(eo(a),{async:!0,crossOrigin:"anonymous",nonce:a.nonce,beforeLoad:eq(a)}).catch(a=>{throw new C(ei+(a.message?`, ${a.message}`:""),{code:"failed_to_load_clerk_js",cause:a})}),c},eo=a=>{var b;let{clerkJSUrl:c,clerkJSVariant:d,clerkJSVersion:e,proxyUrl:f,domain:g,publishableKey:h}=a;if(c)return c;let i="";if(f&&(!f||(b=f,/^http(s)?:\/\//.test(b||""))||eh(f)))i=(!f?"":eh(f)?new URL(f,window.location.origin).toString():f).replace(/http(s)?:\/\//,"");else i=g&&!ej((0,W.parsePublishableKey)(h)?.frontendApi||"")?function(a){let b;if(!a)return"";if(a.match(/^(clerk\.)+\w*$/))b=/(clerk\.)*(?=clerk\.)/;else{if(a.match(/\.clerk.accounts/))return a;b=/^(clerk\.)*/gi}let c=a.replace(b,"");return`clerk.${c}`}(g):(0,W.parsePublishableKey)(h)?.frontendApi||"";let j=d?`${d.replace(/\.+$/,"")}.`:"",k=((a,b="5.105.0")=>{let c;if(a)return a;let d=(c=b,c.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/)?.[1]);if(d)return"snapshot"===d?"5.105.0":d;return b.trim().replace(/^v/,"").split(".")[0]})(e);return`https://${i}/npm/@clerk/clerk-js@${k}/dist/clerk.${j}browser.js`},ep=a=>{let b={};return a.publishableKey&&(b["data-clerk-publishable-key"]=a.publishableKey),a.proxyUrl&&(b["data-clerk-proxy-url"]=a.proxyUrl),a.domain&&(b["data-clerk-domain"]=a.domain),a.nonce&&(b.nonce=a.nonce),b},eq=a=>b=>{let c=ep(a);for(let a in c)b.setAttribute(a,c[a])};a.s(["buildClerkJsScriptAttributes",()=>ep,"clerkJsScriptUrl",()=>eo,"loadClerkJsScript",()=>en,"setClerkJsLoadingErrorPackageName",()=>el],45484),a.s([],38465);function er(){return!1}let es=RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");function et(a){return!!a&&es.test(a)}function eu(){return!1}function ev(){return!1}function ew(){return!1}a.s(["inBrowser",()=>er,"isBrowserOnline",()=>ev,"isValidBrowser",()=>eu,"isValidBrowserOnline",()=>ew,"userAgentIsRobot",()=>et],68949),a.s([],85999);let ex=(a,b,c,d,e)=>{let{notify:f}=e||{},g=a.get(c);g||(g=[],a.set(c,g)),g.push(d),f&&b.has(c)&&d(b.get(c))},ey=(a,b,c)=>(a.get(b)||[]).map(a=>a(c)),ez=(a,b,c)=>{let d=a.get(b);d&&(c?d.splice(d.indexOf(c)>>>0,1):a.set(b,[]))},eA="status";var eB=c1(({clerk:a,children:b,...c})=>{let{signUpFallbackRedirectUrl:d,forceRedirectUrl:e,fallbackRedirectUrl:f,signUpForceRedirectUrl:g,mode:h,initialValues:i,withSignUp:j,oauthFlow:k,...l}=c,m=dp(b=dq(b,"Sign in"))("SignInButton"),n=async b=>{let l;return m&&"object"==typeof m&&"props"in m&&await dr(m.props.onClick)(b),l={forceRedirectUrl:e,fallbackRedirectUrl:f,signUpFallbackRedirectUrl:d,signUpForceRedirectUrl:g,initialValues:i,withSignUp:j,oauthFlow:k},"modal"===h?a.openSignIn({...l,appearance:c.appearance}):a.redirectToSignIn({...l,signInFallbackRedirectUrl:f,signInForceRedirectUrl:e})},o={...l,onClick:n};return an.default.cloneElement(m,o)},{component:"SignInButton",renderWhileLoading:!0}),eC=c1(({clerk:a,children:b,...c})=>{let{redirectUrl:d,...e}=c,f=dp(b=dq(b,"Sign in with Metamask"))("SignInWithMetamaskButton"),g=async()=>{!async function(){await a.authenticateWithMetamask({redirectUrl:d||void 0})}()},h=async a=>(await dr(f.props.onClick)(a),g()),i={...e,onClick:h};return an.default.cloneElement(f,i)},{component:"SignInWithMetamask",renderWhileLoading:!0}),eD=c1(({clerk:a,children:b,...c})=>{let{redirectUrl:d="/",signOutOptions:e,...f}=c,g=dp(b=dq(b,"Sign out"))("SignOutButton"),h=async b=>(await dr(g.props.onClick)(b),a.signOut({redirectUrl:d,...e})),i={...f,onClick:h};return an.default.cloneElement(g,i)},{component:"SignOutButton",renderWhileLoading:!0}),eE=c1(({clerk:a,children:b,...c})=>{let{fallbackRedirectUrl:d,forceRedirectUrl:e,signInFallbackRedirectUrl:f,signInForceRedirectUrl:g,mode:h,initialValues:i,oauthFlow:j,...k}=c,l=dp(b=dq(b,"Sign up"))("SignUpButton"),m=async b=>{let k;return l&&"object"==typeof l&&"props"in l&&await dr(l.props.onClick)(b),k={fallbackRedirectUrl:d,forceRedirectUrl:e,signInFallbackRedirectUrl:f,signInForceRedirectUrl:g,initialValues:i,oauthFlow:j},"modal"===h?a.openSignUp({...k,appearance:c.appearance,unsafeMetadata:c.unsafeMetadata}):a.redirectToSignUp({...k,signUpFallbackRedirectUrl:d,signUpForceRedirectUrl:e})},n={...k,onClick:m};return an.default.cloneElement(l,n)},{component:"SignUpButton",renderWhileLoading:!0}),eF=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),eG=class{constructor(a){this.isomorphicClerk=a,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){let a=this.gateProperty.bind(this),b=()=>this.client.signIn.__internal_future;return{errors:eF(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get id(){return a(b,"id",void 0)},get supportedFirstFactors(){return a(b,"supportedFirstFactors",[])},get supportedSecondFactors(){return a(b,"supportedSecondFactors",[])},get secondFactorVerification(){return a(b,"secondFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw Error("__internal_toSnapshot called before Clerk is loaded")}})},get identifier(){return a(b,"identifier",null)},get createdSessionId(){return a(b,"createdSessionId",null)},get userData(){return a(b,"userData",{})},get firstFactorVerification(){return a(b,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(b,"create"),password:this.gateMethod(b,"password"),sso:this.gateMethod(b,"sso"),finalize:this.gateMethod(b,"finalize"),emailCode:this.wrapMethods(()=>b().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>b().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>b().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>b().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>b().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(b,"ticket"),passkey:this.gateMethod(b,"passkey"),web3:this.gateMethod(b,"web3")}}}buildSignUpProxy(){let a=this.gateProperty.bind(this),b=this.gateMethod.bind(this),c=this.wrapMethods.bind(this),d=()=>this.client.signUp.__internal_future;return{errors:eF(),fetchStatus:"idle",signUp:{get id(){return a(d,"id",void 0)},get requiredFields(){return a(d,"requiredFields",[])},get optionalFields(){return a(d,"optionalFields",[])},get missingFields(){return a(d,"missingFields",[])},get username(){return a(d,"username",null)},get firstName(){return a(d,"firstName",null)},get lastName(){return a(d,"lastName",null)},get emailAddress(){return a(d,"emailAddress",null)},get phoneNumber(){return a(d,"phoneNumber",null)},get web3Wallet(){return a(d,"web3Wallet",null)},get hasPassword(){return a(d,"hasPassword",!1)},get unsafeMetadata(){return a(d,"unsafeMetadata",{})},get createdSessionId(){return a(d,"createdSessionId",null)},get createdUserId(){return a(d,"createdUserId",null)},get abandonAt(){return a(d,"abandonAt",null)},get legalAcceptedAt(){return a(d,"legalAcceptedAt",null)},get locale(){return a(d,"locale",null)},get status(){return a(d,"status","missing_requirements")},get unverifiedFields(){return a(d,"unverifiedFields",[])},get isTransferable(){return a(d,"isTransferable",!1)},create:b(d,"create"),update:b(d,"update"),sso:b(d,"sso"),password:b(d,"password"),ticket:b(d,"ticket"),web3:b(d,"web3"),finalize:b(d,"finalize"),verifications:c(()=>d().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(a){throw Error("__internal_effect called before Clerk is loaded")}__internal_computed(a){throw Error("__internal_computed called before Clerk is loaded")}get client(){let a=this.isomorphicClerk.client;if(!a)throw Error("Clerk client not ready");return a}gateProperty(a,b,c){return c}gateMethod(a,b){return async(...a)=>cz.throw(`Attempted to call a method (${b}) that is not supported on the server.`)}wrapMethods(a,b){return Object.fromEntries(b.map(b=>[b,this.gateMethod(a,b)]))}wrapStruct(a,b,c,d){let e={};for(let c of b)e[c]=this.gateMethod(a,c);for(let b of c)Object.defineProperty(e,b,{get:()=>this.gateProperty(a,b,d[b]),enumerable:!0});return e}};void 0===globalThis.__BUILD_DISABLE_RHC__&&(globalThis.__BUILD_DISABLE_RHC__=!1);var eH={name:"@clerk/clerk-react",version:"5.53.8",environment:"production"},eI=class b{constructor(a){d9(this,p),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],d9(this,i,"loading"),d9(this,j),d9(this,k),d9(this,l),d9(this,m,(()=>{let a,b,c;return a=new Map,b=new Map,c=new Map,{on:(...c)=>ex(a,b,...c),prioritizedOn:(...a)=>ex(c,b,...a),emit:(d,e)=>{b.set(d,e),ey(c,d,e),ey(a,d,e)},off:(...b)=>ez(a,...b),prioritizedOff:(...a)=>ez(c,...a),internal:{retrieveListeners:b=>a.get(b)||[]}}})()),d9(this,n),this.buildSignInUrl=a=>{let b=()=>{var b;return(null==(b=this.clerkjs)?void 0:b.buildSignInUrl(a))||""};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("buildSignInUrl",b)},this.buildSignUpUrl=a=>{let b=()=>{var b;return(null==(b=this.clerkjs)?void 0:b.buildSignUpUrl(a))||""};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("buildSignUpUrl",b)},this.buildAfterSignInUrl=(...a)=>{let b=()=>{var b;return(null==(b=this.clerkjs)?void 0:b.buildAfterSignInUrl(...a))||""};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("buildAfterSignInUrl",b)},this.buildAfterSignUpUrl=(...a)=>{let b=()=>{var b;return(null==(b=this.clerkjs)?void 0:b.buildAfterSignUpUrl(...a))||""};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("buildAfterSignUpUrl",b)},this.buildAfterSignOutUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignOutUrl",a)},this.buildNewSubscriptionRedirectUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",a)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",a)},this.buildUserProfileUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUserProfileUrl",a)},this.buildCreateOrganizationUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildCreateOrganizationUrl",a)},this.buildOrganizationProfileUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildOrganizationProfileUrl",a)},this.buildWaitlistUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildWaitlistUrl",a)},this.buildTasksUrl=()=>{let a=()=>{var a;return(null==(a=this.clerkjs)?void 0:a.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildTasksUrl",a)},this.buildUrlWithAuth=a=>{let b=()=>{var b;return(null==(b=this.clerkjs)?void 0:b.buildUrlWithAuth(a))||""};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("buildUrlWithAuth",b)},this.handleUnauthenticated=async()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.handleUnauthenticated()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("handleUnauthenticated",a)},this.on=(...a)=>{var b;if(null==(b=this.clerkjs)?void 0:b.on)return this.clerkjs.on(...a);d8(this,m).on(...a)},this.off=(...a)=>{var b;if(null==(b=this.clerkjs)?void 0:b.off)return this.clerkjs.off(...a);d8(this,m).off(...a)},this.addOnLoaded=a=>{this.loadedListeners.push(a),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(a=>a()),this.loadedListeners=[]},this.beforeLoad=a=>{if(!a)throw Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=a=>{var b,c;if(!a)throw Error("Failed to hydrate latest Clerk JS");return this.clerkjs=a,this.premountMethodCalls.forEach(a=>a()),this.premountAddListenerCalls.forEach((b,c)=>{b.nativeUnsubscribe=a.addListener(c)}),null==(b=d8(this,m).internal.retrieveListeners("status"))||b.forEach(a=>{this.on("status",a,{notify:!0})}),null==(c=d8(this,m).internal.retrieveListeners("queryClientStatus"))||c.forEach(a=>{this.on("queryClientStatus",a,{notify:!0})}),null!==this.preopenSignIn&&a.openSignIn(this.preopenSignIn),null!==this.preopenCheckout&&a.__internal_openCheckout(this.preopenCheckout),null!==this.preopenPlanDetails&&a.__internal_openPlanDetails(this.preopenPlanDetails),null!==this.preopenSubscriptionDetails&&a.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),null!==this.preopenSignUp&&a.openSignUp(this.preopenSignUp),null!==this.preopenUserProfile&&a.openUserProfile(this.preopenUserProfile),null!==this.preopenUserVerification&&a.__internal_openReverification(this.preopenUserVerification),null!==this.preopenOneTap&&a.openGoogleOneTap(this.preopenOneTap),null!==this.preopenOrganizationProfile&&a.openOrganizationProfile(this.preopenOrganizationProfile),null!==this.preopenCreateOrganization&&a.openCreateOrganization(this.preopenCreateOrganization),null!==this.preOpenWaitlist&&a.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((b,c)=>{a.mountSignIn(c,b)}),this.premountSignUpNodes.forEach((b,c)=>{a.mountSignUp(c,b)}),this.premountUserProfileNodes.forEach((b,c)=>{a.mountUserProfile(c,b)}),this.premountUserAvatarNodes.forEach((b,c)=>{a.mountUserAvatar(c,b)}),this.premountUserButtonNodes.forEach((b,c)=>{a.mountUserButton(c,b)}),this.premountOrganizationListNodes.forEach((b,c)=>{a.mountOrganizationList(c,b)}),this.premountWaitlistNodes.forEach((b,c)=>{a.mountWaitlist(c,b)}),this.premountPricingTableNodes.forEach((b,c)=>{a.mountPricingTable(c,b)}),this.premountApiKeysNodes.forEach((b,c)=>{a.mountApiKeys(c,b)}),this.premountOAuthConsentNodes.forEach((b,c)=>{a.__internal_mountOAuthConsent(c,b)}),this.premountTaskChooseOrganizationNodes.forEach((b,c)=>{a.mountTaskChooseOrganization(c,b)}),void 0===this.clerkjs.status&&d8(this,m).emit(eA,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...a)=>{var b;return null==(b=this.clerkjs)?void 0:b.__experimental_checkout(...a)},this.__unstable__updateProps=async a=>{let b=await eb(this,p,q).call(this);if(b&&"__unstable__updateProps"in b)return b.__unstable__updateProps(a)},this.setActive=a=>this.clerkjs?this.clerkjs.setActive(a):Promise.reject(),this.openSignIn=a=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(a):this.preopenSignIn=a},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(a):this.preopenCheckout=a},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(a):this.preopenPlanDetails=a},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(a):this.preopenSubscriptionDetails=null!=a?a:null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(a):this.preopenUserVerification=a},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=a=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(a):this.preopenOneTap=a},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(a):this.preopenUserProfile=a},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(a):this.preopenOrganizationProfile=a},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(a):this.preopenCreateOrganization=a},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=a=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(a):this.preOpenWaitlist=a},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=a=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(a):this.preopenSignUp=a},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(a,b):this.premountSignInNodes.set(a,b)},this.unmountSignIn=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(a):this.premountSignInNodes.delete(a)},this.mountSignUp=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(a,b):this.premountSignUpNodes.set(a,b)},this.unmountSignUp=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(a):this.premountSignUpNodes.delete(a)},this.mountUserAvatar=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(a,b):this.premountUserAvatarNodes.set(a,b)},this.unmountUserAvatar=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(a):this.premountUserAvatarNodes.delete(a)},this.mountUserProfile=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(a,b):this.premountUserProfileNodes.set(a,b)},this.unmountUserProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(a):this.premountUserProfileNodes.delete(a)},this.mountOrganizationProfile=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(a,b):this.premountOrganizationProfileNodes.set(a,b)},this.unmountOrganizationProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(a):this.premountOrganizationProfileNodes.delete(a)},this.mountCreateOrganization=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(a,b):this.premountCreateOrganizationNodes.set(a,b)},this.unmountCreateOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(a):this.premountCreateOrganizationNodes.delete(a)},this.mountOrganizationSwitcher=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(a,b):this.premountOrganizationSwitcherNodes.set(a,b)},this.unmountOrganizationSwitcher=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(a):this.premountOrganizationSwitcherNodes.delete(a)},this.__experimental_prefetchOrganizationSwitcher=()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",a)},this.mountOrganizationList=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(a,b):this.premountOrganizationListNodes.set(a,b)},this.unmountOrganizationList=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(a):this.premountOrganizationListNodes.delete(a)},this.mountUserButton=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(a,b):this.premountUserButtonNodes.set(a,b)},this.unmountUserButton=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(a):this.premountUserButtonNodes.delete(a)},this.mountWaitlist=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(a,b):this.premountWaitlistNodes.set(a,b)},this.unmountWaitlist=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(a):this.premountWaitlistNodes.delete(a)},this.mountPricingTable=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(a,b):this.premountPricingTableNodes.set(a,b)},this.unmountPricingTable=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(a):this.premountPricingTableNodes.delete(a)},this.mountApiKeys=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(a,b):this.premountApiKeysNodes.set(a,b)},this.unmountApiKeys=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(a):this.premountApiKeysNodes.delete(a)},this.__internal_mountOAuthConsent=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(a,b):this.premountOAuthConsentNodes.set(a,b)},this.__internal_unmountOAuthConsent=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(a):this.premountOAuthConsentNodes.delete(a)},this.mountTaskChooseOrganization=(a,b)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(a,b):this.premountTaskChooseOrganizationNodes.set(a,b)},this.unmountTaskChooseOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(a):this.premountTaskChooseOrganizationNodes.delete(a)},this.addListener=a=>{if(this.clerkjs)return this.clerkjs.addListener(a);{let b=()=>{var b;let c=this.premountAddListenerCalls.get(a);c&&(null==(b=c.nativeUnsubscribe)||b.call(c),this.premountAddListenerCalls.delete(a))};return this.premountAddListenerCalls.set(a,{unsubscribe:b,nativeUnsubscribe:void 0}),b}},this.navigate=a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.navigate(a)};this.clerkjs&&this.loaded?b():this.premountMethodCalls.set("navigate",b)},this.redirectWithAuth=async(...a)=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.redirectWithAuth(...a)};return this.clerkjs&&this.loaded?b():void this.premountMethodCalls.set("redirectWithAuth",b)},this.redirectToSignIn=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.redirectToSignIn(a)};return this.clerkjs&&this.loaded?b():void this.premountMethodCalls.set("redirectToSignIn",b)},this.redirectToSignUp=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.redirectToSignUp(a)};return this.clerkjs&&this.loaded?b():void this.premountMethodCalls.set("redirectToSignUp",b)},this.redirectToUserProfile=async()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToUserProfile()};return this.clerkjs&&this.loaded?a():void this.premountMethodCalls.set("redirectToUserProfile",a)},this.redirectToAfterSignUp=()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToAfterSignUp",a)},this.redirectToAfterSignIn=()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToAfterSignIn()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("redirectToAfterSignIn",a)},this.redirectToAfterSignOut=()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToAfterSignOut()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("redirectToAfterSignOut",a)},this.redirectToOrganizationProfile=async()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToOrganizationProfile()};return this.clerkjs&&this.loaded?a():void this.premountMethodCalls.set("redirectToOrganizationProfile",a)},this.redirectToCreateOrganization=async()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToCreateOrganization()};return this.clerkjs&&this.loaded?a():void this.premountMethodCalls.set("redirectToCreateOrganization",a)},this.redirectToWaitlist=async()=>{let a=()=>{var a;return null==(a=this.clerkjs)?void 0:a.redirectToWaitlist()};return this.clerkjs&&this.loaded?a():void this.premountMethodCalls.set("redirectToWaitlist",a)},this.redirectToTasks=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.redirectToTasks(a)};return this.clerkjs&&this.loaded?b():void this.premountMethodCalls.set("redirectToTasks",b)},this.handleRedirectCallback=async a=>{var b;let c=()=>{var b;return null==(b=this.clerkjs)?void 0:b.handleRedirectCallback(a)};this.clerkjs&&this.loaded?null==(b=c())||b.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",c)},this.handleGoogleOneTapCallback=async(a,b)=>{var c;let d=()=>{var c;return null==(c=this.clerkjs)?void 0:c.handleGoogleOneTapCallback(a,b)};this.clerkjs&&this.loaded?null==(c=d())||c.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",d)},this.handleEmailLinkVerification=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.handleEmailLinkVerification(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("handleEmailLinkVerification",b)},this.authenticateWithMetamask=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.authenticateWithMetamask(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("authenticateWithMetamask",b)},this.authenticateWithCoinbaseWallet=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.authenticateWithCoinbaseWallet(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",b)},this.authenticateWithBase=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.authenticateWithBase(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("authenticateWithBase",b)},this.authenticateWithOKXWallet=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.authenticateWithOKXWallet(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("authenticateWithOKXWallet",b)},this.authenticateWithWeb3=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.authenticateWithWeb3(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("authenticateWithWeb3",b)},this.authenticateWithGoogleOneTap=async a=>(await eb(this,p,q).call(this)).authenticateWithGoogleOneTap(a),this.__internal_loadStripeJs=async()=>(await eb(this,p,q).call(this)).__internal_loadStripeJs(),this.createOrganization=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.createOrganization(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("createOrganization",b)},this.getOrganization=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.getOrganization(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("getOrganization",b)},this.joinWaitlist=async a=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.joinWaitlist(a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("joinWaitlist",b)},this.signOut=async(...a)=>{let b=()=>{var b;return null==(b=this.clerkjs)?void 0:b.signOut(...a)};if(this.clerkjs&&this.loaded)return b();this.premountMethodCalls.set("signOut",b)};const{Clerk:b=null,publishableKey:c}=a||{};ea(this,l,c),ea(this,k,null==a?void 0:a.proxyUrl),ea(this,j,null==a?void 0:a.domain),this.options=a,this.Clerk=b,this.mode="server",ea(this,n,new eG(this)),this.options.sdkMetadata||(this.options.sdkMetadata=eH),d8(this,m).emit(eA,"loading"),d8(this,m).prioritizedOn(eA,a=>ea(this,i,a)),d8(this,l)&&this.loadClerkJS()}get publishableKey(){return d8(this,l)}get loaded(){var a;return(null==(a=this.clerkjs)?void 0:a.loaded)||!1}get status(){var a;return this.clerkjs?(null==(a=this.clerkjs)?void 0:a.status)||(this.clerkjs.loaded?"ready":"loading"):d8(this,i)}static getOrCreateInstance(a){return ea(this,o,new b(a)),d8(this,o)}static clearInstance(){ea(this,o,null)}get domain(){return"function"==typeof d8(this,j)?cz.throw(cF):d8(this,j)||""}get proxyUrl(){return"function"==typeof d8(this,k)?cz.throw(cF):d8(this,k)||""}__internal_getOption(a){var b,c;return(null==(b=this.clerkjs)?void 0:b.__internal_getOption)?null==(c=this.clerkjs)?void 0:c.__internal_getOption(a):this.options[a]}get sdkMetadata(){var a;return(null==(a=this.clerkjs)?void 0:a.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var a;return null==(a=this.clerkjs)?void 0:a.instanceType}get frontendApi(){var a;return(null==(a=this.clerkjs)?void 0:a.frontendApi)||""}get isStandardBrowser(){var a;return(null==(a=this.clerkjs)?void 0:a.isStandardBrowser)||this.options.standardBrowser||!1}get __internal_queryClient(){var a;return null==(a=this.clerkjs)?void 0:a.__internal_queryClient}get isSatellite(){return"function"==typeof this.options.isSatellite&&cz.throw(cF)}async loadClerkJS(){var b;if("browser"===this.mode&&!this.loaded)try{if(this.Clerk){let b;ds(this.Clerk)?(b=new this.Clerk(d8(this,l),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(b),await b.load(this.options)):(b=this.Clerk).loaded||(this.beforeLoad(b),await b.load(this.options)),a.g.Clerk=b}else if(!__BUILD_DISABLE_RHC__){if(a.g.Clerk||await en({...this.options,publishableKey:d8(this,l),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!a.g.Clerk)throw Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(a.g.Clerk),await a.g.Clerk.load(this.options)}if(null==(b=a.g.Clerk)?void 0:b.loaded)return this.hydrateClerkJS(a.g.Clerk);return}catch(a){d8(this,m).emit(eA,"error"),console.error(a.stack||a.message||a);return}}get version(){var a;return null==(a=this.clerkjs)?void 0:a.version}get client(){return this.clerkjs?this.clerkjs.client:void 0}get session(){return this.clerkjs?this.clerkjs.session:void 0}get user(){return this.clerkjs?this.clerkjs.user:void 0}get organization(){return this.clerkjs?this.clerkjs.organization:void 0}get telemetry(){return this.clerkjs?this.clerkjs.telemetry:void 0}get __unstable__environment(){return this.clerkjs?this.clerkjs.__unstable__environment:void 0}get isSignedIn(){return!!this.clerkjs&&this.clerkjs.isSignedIn}get billing(){var a;return null==(a=this.clerkjs)?void 0:a.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:d8(this,n)}get apiKeys(){var a;return null==(a=this.clerkjs)?void 0:a.apiKeys}__unstable__setEnvironment(...a){this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs&&this.clerkjs.__unstable__setEnvironment(a)}};function eJ(a){var b,c,d;let e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,{isomorphicClerkOptions:B,initialState:C,children:D}=a,{isomorphicClerk:E,clerkStatus:F}=eK(B),[G,H]=an.default.useState({client:E.client,session:E.session,user:E.user,organization:E.organization});an.default.useEffect(()=>E.addListener(a=>H({...a})),[]);let I=(b=E.loaded,!b&&C?(e=(c=C).userId,f=c.user,g=c.sessionId,h=c.sessionStatus,i=c.sessionClaims,j=c.session,k=c.organization,l=c.orgId,m=c.orgRole,n=c.orgPermissions,{userId:e,user:f,sessionId:g,session:j,sessionStatus:h,sessionClaims:i,organization:k,orgId:l,orgRole:m,orgPermissions:n,orgSlug:c.orgSlug,actor:c.actor,factorVerificationAge:c.factorVerificationAge}):(o=(d=G).user?d.user.id:d.user,p=d.user,q=d.session?d.session.id:d.session,r=d.session,s=d.session?.status,t=d.session?d.session.lastActiveToken?.jwt?.claims:null,u=d.session?d.session.factorVerificationAge:null,v=r?.actor,w=d.organization,x=d.organization?d.organization.id:d.organization,y=w?.slug,A=(z=w?p?.organizationMemberships?.find(a=>a.organization.id===x):w)?z.permissions:z,{userId:o,user:p,sessionId:q,session:r,sessionStatus:s,sessionClaims:t,organization:w,orgId:x,orgRole:z?z.role:z,orgSlug:y,orgPermissions:A,actor:v,factorVerificationAge:u})),J=an.default.useMemo(()=>({value:E}),[F]),K=an.default.useMemo(()=>({value:G.client}),[G.client]),{sessionId:L,sessionStatus:M,sessionClaims:N,session:O,userId:P,user:Q,orgId:R,actor:S,organization:T,orgRole:U,orgSlug:V,orgPermissions:W,factorVerificationAge:X}=I,Y=an.default.useMemo(()=>({value:{sessionId:L,sessionStatus:M,sessionClaims:N,userId:P,actor:S,orgId:R,orgRole:U,orgSlug:V,orgPermissions:W,factorVerificationAge:X}}),[L,M,P,S,R,U,V,X,null==N?void 0:N.__raw]),Z=an.default.useMemo(()=>({value:O}),[L,O]),$=an.default.useMemo(()=>({value:Q}),[P,Q]),_=an.default.useMemo(()=>({value:{organization:T}}),[R,T]);return an.default.createElement(bv.Provider,{value:J},an.default.createElement(bz.Provider,{value:K},an.default.createElement(bB.Provider,{value:Z},an.default.createElement(bI,{..._.value},an.default.createElement(cB.Provider,{value:Y},an.default.createElement(bx.Provider,{value:$},an.default.createElement(bF,{value:void 0},D)))))))}i=new WeakMap,j=new WeakMap,k=new WeakMap,l=new WeakMap,m=new WeakMap,n=new WeakMap,o=new WeakMap,p=new WeakSet,q=function(){return new Promise(a=>{this.addOnLoaded(()=>a(this.clerkjs))})},d9(eI,o);var eK=a=>{let b=an.default.useRef(eI.getOrCreateInstance(a)),[c,d]=an.default.useState(b.current.status);return an.default.useEffect(()=>{b.current.__unstable__updateProps({appearance:a.appearance})},[a.appearance]),an.default.useEffect(()=>{b.current.__unstable__updateProps({options:a})},[a.localization]),an.default.useEffect(()=>(b.current.on("status",d),()=>{b.current&&b.current.off("status",d),eI.clearInstance()}),[]),{isomorphicClerk:b.current,clerkStatus:c}},eL=du(function(a){let{initialState:b,children:c,__internal_bypassMissingPublishableKey:d,...e}=a,{publishableKey:f="",Clerk:g}=e;return g||d||(f?f&&!(0,W.isPublishableKey)(f)&&cz.throwInvalidPublishableKeyError({key:f}):cz.throwMissingPublishableKeyError()),an.default.createElement(eJ,{initialState:b,isomorphicClerkOptions:e},c)},"ClerkProvider",cD);eL.displayName="ClerkProvider",cA({packageName:"@clerk/clerk-react"}),el("@clerk/clerk-react"),a.s(["ClerkProvider",()=>eL,"SignInButton",()=>eB,"SignInWithMetamaskButton",()=>eC,"SignOutButton",()=>eD,"SignUpButton",()=>eE],75395)},1917,23698,42492,82884,59387,96432,43616,33211,59479,46692,3421,39300,a=>{"use strict";let b;for(var c,d,e=a.i(99472),f=[],g=[],h=Uint8Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0,k=i.length;j<k;++j)f[j]=i[j],g[i.charCodeAt(j)]=j;function l(a){var b=a.length;if(b%4>0)throw Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");-1===c&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function m(a){var b=l(a),c=b[0],d=b[1];return(c+d)*3/4-d}function n(a){var b,c,d=l(a),e=d[0],f=d[1],i=new h((e+f)*3/4-f),j=0,k=f>0?e-4:e;for(c=0;c<k;c+=4)b=g[a.charCodeAt(c)]<<18|g[a.charCodeAt(c+1)]<<12|g[a.charCodeAt(c+2)]<<6|g[a.charCodeAt(c+3)],i[j++]=b>>16&255,i[j++]=b>>8&255,i[j++]=255&b;return 2===f&&(b=g[a.charCodeAt(c)]<<2|g[a.charCodeAt(c+1)]>>4,i[j++]=255&b),1===f&&(b=g[a.charCodeAt(c)]<<10|g[a.charCodeAt(c+1)]<<4|g[a.charCodeAt(c+2)]>>2,i[j++]=b>>8&255,i[j++]=255&b),i}function o(a){for(var b,c=a.length,d=c%3,e=[],g=0,h=c-d;g<h;g+=16383)e.push(function(a,b,c){for(var d,e=[],g=b;g<c;g+=3)d=(a[g]<<16&0xff0000)+(a[g+1]<<8&65280)+(255&a[g+2]),e.push(f[d>>18&63]+f[d>>12&63]+f[d>>6&63]+f[63&d]);return e.join("")}(a,g,g+16383>h?h:g+16383));return 1===d?e.push(f[(b=a[c-1])>>2]+f[b<<4&63]+"=="):2===d&&e.push(f[(b=(a[c-2]<<8)+a[c-1])>>10]+f[b>>4&63]+f[b<<2&63]+"="),e.join("")}function p(a){return o(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function q(a){if(void 0===a)return{};if(!s(a))throw Error(`The arguments to a Convex function must be an object. Received: ${a}`);return a}function r(a){if(void 0===a)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof a)throw Error(`Invalid deployment address: found ${a}".`);if(!(a.startsWith("http:")||a.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${a}".`);try{new URL(a)}catch{throw Error(`Invalid deployment address: "${a}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(a.endsWith(".convex.site"))throw Error(`Invalid deployment address: "${a}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function s(a){let b="object"==typeof a,c=Object.getPrototypeOf(a),d=null===c||c===Object.prototype||c?.constructor?.name==="Object";return b&&d}g[45]=62,g[95]=63,a.s(["byteLength",()=>m,"fromByteArray",()=>o,"fromByteArrayUrlSafeNoPadding",()=>p,"toByteArray",()=>n],24573),a.s(["isSimpleObject",()=>s,"parseArgs",()=>q,"validateDeploymentUrl",()=>r],23698);let t=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),v=BigInt("0"),w=BigInt("8"),x=BigInt("256");function y(a){return Number.isNaN(a)||!Number.isFinite(a)||Object.is(a,-0)}let z=DataView.prototype.setBigInt64?function(a){if(a<t||u<a)throw Error(`BigInt ${a} does not fit into a 64-bit signed integer.`);let b=new ArrayBuffer(8);return new DataView(b).setBigInt64(0,a,!0),o(new Uint8Array(b))}:function(a){a<v&&(a-=t+t);let b=a.toString(16);b.length%2==1&&(b="0"+b);let c=new Uint8Array(new ArrayBuffer(8)),d=0;for(let e of b.match(/.{2}/g).reverse())c.set([parseInt(e,16)],d++),a>>=w;return o(c)},A=DataView.prototype.getBigInt64?function(a){let b=n(a);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $integer`);return new DataView(b.buffer).getBigInt64(0,!0)}:function(a){let b=n(a);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $integer`);let c=v,d=v;for(let a of b)c+=BigInt(a)*x**d,d++;return c>u&&(c+=t+t),c};function B(a){if(a.length>1024)throw Error(`Field name ${a} exceeds maximum field name length 1024.`);if(a.startsWith("$"))throw Error(`Field name ${a} starts with a '$', which is reserved.`);for(let b=0;b<a.length;b+=1){let c=a.charCodeAt(b);if(c<32||c>=127)throw Error(`Field name ${a} has invalid character '${a[b]}': Field names can only contain non-control ASCII characters`)}}function C(a){if(null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a)return a;if(Array.isArray(a))return a.map(a=>C(a));if("object"!=typeof a)throw Error(`Unexpected type of ${a}`);let b=Object.entries(a);if(1===b.length){let c=b[0][0];if("$bytes"===c){if("string"!=typeof a.$bytes)throw Error(`Malformed $bytes field on ${a}`);return n(a.$bytes).buffer}if("$integer"===c){if("string"!=typeof a.$integer)throw Error(`Malformed $integer field on ${a}`);return A(a.$integer)}if("$float"===c){if("string"!=typeof a.$float)throw Error(`Malformed $float field on ${a}`);let b=n(a.$float);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $float`);let c=new DataView(b.buffer).getFloat64(0,!0);if(!y(c))throw Error(`Float ${c} should be encoded as a number`);return c}if("$set"===c)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===c)throw Error("Received a Map which is no longer supported as a Convex type.")}let c={};for(let[b,d]of Object.entries(a))B(b),c[b]=C(d);return c}function D(a){let b=JSON.stringify(a,(a,b)=>void 0===b?"undefined":"bigint"==typeof b?`${b.toString()}n`:b);if(b.length>16384){let a="[...truncated]",c=16384-a.length,d=b.codePointAt(c-1);return void 0!==d&&d>65535&&(c-=1),b.substring(0,c)+a}return b}function E(a,b,c,d){if(void 0===a){let a=c&&` (present at path ${c} in original object ${D(b)})`;throw Error(`undefined is not a valid Convex value${a}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===a)return a;if("bigint"==typeof a){if(a<t||u<a)throw Error(`BigInt ${a} does not fit into a 64-bit signed integer.`);return{$integer:z(a)}}if("number"==typeof a)if(!y(a))return a;else{let b=new ArrayBuffer(8);return new DataView(b).setFloat64(0,a,!0),{$float:o(new Uint8Array(b))}}if("boolean"==typeof a||"string"==typeof a)return a;if(a instanceof ArrayBuffer)return{$bytes:o(new Uint8Array(a))};if(Array.isArray(a))return a.map((a,d)=>E(a,b,c+`[${d}]`,!1));if(a instanceof Set)throw Error(F(c,"Set",[...a],b));if(a instanceof Map)throw Error(F(c,"Map",[...a],b));if(!s(a)){let d=a?.constructor?.name;throw Error(F(c,d?`${d} `:"",a,b))}let e={},f=Object.entries(a);for(let[a,g]of(f.sort(([a,b],[c,d])=>a===c?0:a<c?-1:1),f))void 0!==g?(B(a),e[a]=E(g,b,c+`.${a}`,!1)):d&&(B(a),e[a]=G(g,b,c+`.${a}`));return e}function F(a,b,c,d){return a?`${b}${D(c)} is not a supported Convex type (present at path ${a} in original object ${D(d)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${b}${D(c)} is not a supported Convex type.`}function G(a,b,c){if(void 0===a)return{$undefined:null};if(void 0===b)throw Error(`Programming error. Current value is ${D(a)} but original value is undefined`);return E(a,b,c,!1)}function H(a){return E(a,a,"",!1)}function I(a){return G(a,a,"")}function J(a){return E(a,a,"",!0)}a.s(["convexOrUndefinedToJson",()=>I,"convexToJson",()=>H,"jsonToConvex",()=>C,"patchValueToJson",()=>J,"stringifyValueForError",()=>D],42492);var K=Object.defineProperty,L=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?K(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class M{constructor({isOptional:a}){L(this,"type"),L(this,"fieldPaths"),L(this,"isOptional"),L(this,"isConvexValidator"),this.isOptional=a,this.isConvexValidator=!0}get optional(){return"optional"===this.isOptional}}class N extends M{constructor({isOptional:a,tableName:b}){if(super({isOptional:a}),L(this,"tableName"),L(this,"kind","id"),"string"!=typeof b)throw Error("v.id(tableName) requires a string");this.tableName=b}get json(){return{type:"id",tableName:this.tableName}}asOptional(){return new N({isOptional:"optional",tableName:this.tableName})}}class O extends M{constructor(){super(...arguments),L(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new O({isOptional:"optional"})}}class P extends M{constructor(){super(...arguments),L(this,"kind","int64")}get json(){return{type:"bigint"}}asOptional(){return new P({isOptional:"optional"})}}class Q extends M{constructor(){super(...arguments),L(this,"kind","boolean")}get json(){return{type:this.kind}}asOptional(){return new Q({isOptional:"optional"})}}class R extends M{constructor(){super(...arguments),L(this,"kind","bytes")}get json(){return{type:this.kind}}asOptional(){return new R({isOptional:"optional"})}}class S extends M{constructor(){super(...arguments),L(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new S({isOptional:"optional"})}}class T extends M{constructor(){super(...arguments),L(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new T({isOptional:"optional"})}}class U extends M{constructor(){super(...arguments),L(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new U({isOptional:"optional"})}}class V extends M{constructor({isOptional:a,fields:b}){super({isOptional:a}),L(this,"fields"),L(this,"kind","object"),globalThis.Object.values(b).forEach(a=>{if(!a.isConvexValidator)throw Error("v.object() entries must be validators")}),this.fields=b}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([a,b])=>[a,{fieldType:b.json,optional:"optional"===b.isOptional}]))}}asOptional(){return new V({isOptional:"optional",fields:this.fields})}}class W extends M{constructor({isOptional:a,value:b}){if(super({isOptional:a}),L(this,"value"),L(this,"kind","literal"),"string"!=typeof b&&"boolean"!=typeof b&&"number"!=typeof b&&"bigint"!=typeof b)throw Error("v.literal(value) must be a string, number, or boolean");this.value=b}get json(){return{type:this.kind,value:H(this.value)}}asOptional(){return new W({isOptional:"optional",value:this.value})}}class X extends M{constructor({isOptional:a,element:b}){super({isOptional:a}),L(this,"element"),L(this,"kind","array"),this.element=b}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new X({isOptional:"optional",element:this.element})}}class Y extends M{constructor({isOptional:a,key:b,value:c}){if(super({isOptional:a}),L(this,"key"),L(this,"value"),L(this,"kind","record"),"optional"===b.isOptional)throw Error("Record validator cannot have optional keys");if("optional"===c.isOptional)throw Error("Record validator cannot have optional values");if(!b.isConvexValidator||!c.isConvexValidator)throw Error("Key and value of v.record() but be validators");this.key=b,this.value=c}get json(){return{type:this.kind,keys:this.key.json,values:{fieldType:this.value.json,optional:!1}}}asOptional(){return new Y({isOptional:"optional",key:this.key,value:this.value})}}class Z extends M{constructor({isOptional:a,members:b}){super({isOptional:a}),L(this,"members"),L(this,"kind","union"),b.forEach(a=>{if(!a.isConvexValidator)throw Error("All members of v.union() must be validators")}),this.members=b}get json(){return{type:this.kind,value:this.members.map(a=>a.json)}}asOptional(){return new Z({isOptional:"optional",members:this.members})}}function $(a){return!!a.isConvexValidator}function _(a){return $(a)?a:aa.object(a)}let aa={id:a=>new N({isOptional:"required",tableName:a}),null:()=>new T({isOptional:"required"}),number:()=>new O({isOptional:"required"}),float64:()=>new O({isOptional:"required"}),bigint:()=>new P({isOptional:"required"}),int64:()=>new P({isOptional:"required"}),boolean:()=>new Q({isOptional:"required"}),string:()=>new S({isOptional:"required"}),bytes:()=>new R({isOptional:"required"}),literal:a=>new W({isOptional:"required",value:a}),array:a=>new X({isOptional:"required",element:a}),object:a=>new V({isOptional:"required",fields:a}),record:(a,b)=>new Y({isOptional:"required",key:a,value:b}),union:(...a)=>new Z({isOptional:"required",members:a}),any:()=>new U({isOptional:"required"}),optional:a=>a.asOptional()};a.s(["asObjectValidator",()=>_,"isValidator",()=>$,"v",0,aa],82884);var ab=a.i(24573),ac=Object.defineProperty,ad=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?ac(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};let ae=Symbol.for("ConvexError");class af extends(d=Error,c=ae,d){constructor(a){super("string"==typeof a?a:D(a)),ad(this,"name","ConvexError"),ad(this,"data"),ad(this,c,!0),this.data=a}}a.s(["ConvexError",()=>af],59387);let ag=()=>Array.from({length:4},()=>0);ag(),ag(),a.s([],96432),a.s(["ConvexProvider",()=>be,"ConvexReactClient",()=>bb,"useConvex",()=>bd,"useQuery",()=>bf],46692);let ah="1.28.2";a.s(["version",0,ah],43616);var ai=Object.defineProperty,aj=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?ai(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function ak(a){switch(a){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class al{constructor(a){aj(this,"_onLogLineFuncs"),aj(this,"_verbose"),this._onLogLineFuncs={},this._verbose=a.verbose}addLogLineListener(a){let b=Math.random().toString(36).substring(2,15);for(let a=0;a<10&&void 0!==this._onLogLineFuncs[b];a++)b=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[b]=a,()=>{delete this._onLogLineFuncs[b]}}logVerbose(...a){if(this._verbose)for(let b of Object.values(this._onLogLineFuncs))b("debug",`${new Date().toISOString()}`,...a)}log(...a){for(let b of Object.values(this._onLogLineFuncs))b("info",...a)}warn(...a){for(let b of Object.values(this._onLogLineFuncs))b("warn",...a)}error(...a){for(let b of Object.values(this._onLogLineFuncs))b("error",...a)}}function am(a){let b=new al(a);return b.addLogLineListener((a,...b)=>{switch(a){case"debug":console.debug(...b);break;case"info":default:console.log(...b);break;case"warn":console.warn(...b);break;case"error":console.error(...b)}}),b}function an(a,b,c,d,e){let f=ak(c);if("object"==typeof e&&(e=`ConvexError ${JSON.stringify(e.errorData,null,2)}`),"info"===b){let b=e.match(/^\[.*?\] /);if(null===b)return void a.error(`[CONVEX ${f}(${d})] Could not parse console.log`);let c=e.slice(1,b[0].length-2),g=e.slice(b[0].length);a.log(`%c[CONVEX ${f}(${d})] [${c}]`,"color:rgb(0, 145, 255)",g)}else a.error(`[CONVEX ${f}(${d})] ${e}`)}function ao(a,b,c){let d=ak(a);return`[CONVEX ${d}(${b})] ${c.errorMessage}
  Called by client`}function ap(a,b){return b.data=a.errorData,b}function aq(a){let b,c,d=a.split(":");return 1===d.length?(b=d[0],c="default"):(b=d.slice(0,d.length-1).join(":"),c=d[d.length-1]),b.endsWith(".js")&&(b=b.slice(0,-3)),`${b}:${c}`}function ar(a,b){return JSON.stringify({udfPath:aq(a),args:H(b)})}var as=Object.defineProperty,at=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?as(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class au{constructor(){at(this,"nextQueryId"),at(this,"querySetVersion"),at(this,"querySet"),at(this,"queryIdToToken"),at(this,"identityVersion"),at(this,"auth"),at(this,"outstandingQueriesOlderThanRestart"),at(this,"outstandingAuthOlderThanRestart"),at(this,"paused"),at(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return 0===this.outstandingQueriesOlderThanRestart.size&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(a,b,c,d){let e=aq(a),f=ar(e,b),g=this.querySet.get(f);if(void 0!==g)return g.numSubscribers+=1,{queryToken:f,modification:null,unsubscribe:()=>this.removeSubscriber(f)};{let a=this.nextQueryId++;this.querySet.set(f,{id:a,canonicalizedUdfPath:e,args:b,numSubscribers:1,journal:c,componentPath:d}),this.queryIdToToken.set(a,f);let g=this.querySetVersion,h=this.querySetVersion+1,i={type:"Add",queryId:a,udfPath:e,args:[H(b)],journal:c,componentPath:d};return this.paused?this.pendingQuerySetModifications.set(a,i):this.querySetVersion=h,{queryToken:f,modification:{type:"ModifyQuerySet",baseVersion:g,newVersion:h,modifications:[i]},unsubscribe:()=>this.removeSubscriber(f)}}}transition(a){for(let b of a.modifications)switch(b.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(b.queryId);let a=b.journal;if(void 0!==a){let c=this.queryIdToToken.get(b.queryId);void 0!==c&&(this.querySet.get(c).journal=a)}break}case"QueryRemoved":this.outstandingQueriesOlderThanRestart.delete(b.queryId);break;default:throw Error(`Invalid modification ${b.type}`)}}queryId(a,b){let c=ar(aq(a),b),d=this.querySet.get(c);return void 0!==d?d.id:null}isCurrentOrNewerAuthVersion(a){return a>=this.identityVersion}getAuth(){return this.auth}setAuth(a){this.auth={tokenType:"User",value:a};let b=this.identityVersion;return this.paused||(this.identityVersion=b+1),{type:"Authenticate",baseVersion:b,...this.auth}}setAdminAuth(a,b){let c={tokenType:"Admin",value:a,impersonating:b};this.auth=c;let d=this.identityVersion;return this.paused||(this.identityVersion=d+1),{type:"Authenticate",baseVersion:d,...c}}clearAuth(){this.auth=void 0,this.markAuthCompletion();let a=this.identityVersion;return this.paused||(this.identityVersion=a+1),{type:"Authenticate",tokenType:"None",baseVersion:a}}hasAuth(){return!!this.auth}isNewAuth(a){return this.auth?.value!==a}queryPath(a){let b=this.queryIdToToken.get(a);return b?this.querySet.get(b).canonicalizedUdfPath:null}queryArgs(a){let b=this.queryIdToToken.get(a);return b?this.querySet.get(b).args:null}queryToken(a){return this.queryIdToToken.get(a)??null}queryJournal(a){return this.querySet.get(a)?.journal}restart(a){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();let b=[];for(let c of this.querySet.values()){let d={type:"Add",queryId:c.id,udfPath:c.canonicalizedUdfPath,args:[H(c.args)],journal:c.journal,componentPath:c.componentPath};b.push(d),a.has(c.id)||this.outstandingQueriesOlderThanRestart.add(c.id)}this.querySetVersion=1;let c={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:b};if(!this.auth)return this.identityVersion=0,[c,void 0];this.outstandingAuthOlderThanRestart=!0;let d={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[c,d]}pause(){this.paused=!0}resume(){let a=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,b=void 0!==this.auth?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[a,b]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(a){let b=this.querySet.get(a);if(b.numSubscribers>1)return b.numSubscribers-=1,null;{this.querySet.delete(a),this.queryIdToToken.delete(b.id),this.outstandingQueriesOlderThanRestart.delete(b.id);let c=this.querySetVersion,d=this.querySetVersion+1,e={type:"Remove",queryId:b.id};return this.paused?this.pendingQuerySetModifications.has(b.id)?this.pendingQuerySetModifications.delete(b.id):this.pendingQuerySetModifications.set(b.id,e):this.querySetVersion=d,{type:"ModifyQuerySet",baseVersion:c,newVersion:d,modifications:[e]}}}}var av=Object.defineProperty,aw=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?av(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class ax{constructor(a,b){this.logger=a,this.markConnectionStateDirty=b,aw(this,"inflightRequests"),aw(this,"requestsOlderThanRestart"),aw(this,"inflightMutationsCount",0),aw(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(a,b){let c=new Promise(c=>{this.inflightRequests.set(a.requestId,{message:a,status:{status:b?"Requested":"NotSent",requestedAt:new Date,onResult:c}}),"Mutation"===a.type?this.inflightMutationsCount++:"Action"===a.type&&this.inflightActionsCount++});return this.markConnectionStateDirty(),c}onResponse(a){let b,c,d=this.inflightRequests.get(a.requestId);if(void 0===d||"Completed"===d.status.status)return null;let e="Mutation"===d.message.type?"mutation":"action",f=d.message.udfPath;for(let b of a.logLines)an(this.logger,"info",e,f,b);let g=d.status;if(a.success)b={success:!0,logLines:a.logLines,value:C(a.result)},c=()=>g.onResult(b);else{let d=a.result,{errorData:h}=a;an(this.logger,"error",e,f,d),b={success:!1,errorMessage:d,errorData:void 0!==h?C(h):void 0,logLines:a.logLines},c=()=>g.onResult(b)}return"ActionResponse"!==a.type&&a.success?(d.status={status:"Completed",result:b,ts:a.ts,onResolve:c},null):(c(),this.inflightRequests.delete(a.requestId),this.requestsOlderThanRestart.delete(a.requestId),"Action"===d.message.type?this.inflightActionsCount--:"Mutation"===d.message.type&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:a.requestId,result:b})}removeCompleted(a){let b=new Map;for(let[c,d]of this.inflightRequests.entries()){let e=d.status;"Completed"===e.status&&e.ts.lessThanOrEqual(a)&&(e.onResolve(),b.set(c,e.result),"Mutation"===d.message.type?this.inflightMutationsCount--:"Action"===d.message.type&&this.inflightActionsCount--,this.inflightRequests.delete(c),this.requestsOlderThanRestart.delete(c))}return b.size>0&&this.markConnectionStateDirty(),b}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());let a=[];for(let[b,c]of this.inflightRequests){if("NotSent"===c.status.status){c.status.status="Requested",a.push(c.message);continue}if("Mutation"===c.message.type)a.push(c.message);else if("Action"===c.message.type){if(this.inflightRequests.delete(b),this.requestsOlderThanRestart.delete(b),this.inflightActionsCount--,"Completed"===c.status.status)throw Error("Action should never be in 'Completed' state");c.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),a}resume(){let a=[];for(let[,b]of this.inflightRequests)if("NotSent"===b.status.status){b.status.status="Requested",a.push(b.message);continue}return a}hasIncompleteRequests(){for(let a of this.inflightRequests.values())if("Requested"===a.status.status)return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return 0===this.requestsOlderThanRestart.size}timeOfOldestInflightRequest(){if(0===this.inflightRequests.size)return null;let a=Date.now();for(let b of this.inflightRequests.values())"Completed"!==b.status.status&&b.status.requestedAt.getTime()<a&&(a=b.status.requestedAt.getTime());return new Date(a)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}let ay=Symbol.for("functionName"),az=Symbol.for("toReferencePath");function aA(a,b){a[az]=b}function aB(a){let b;if("string"==typeof a)b=a.startsWith("function://")?{functionHandle:a}:{name:a};else if(a[ay])b={name:a[ay]};else{let c=a[az]??null;if(!c)throw Error(`${a} is not a functionReference`);b={reference:c}}return b}function aC(a){let b=aB(a);if(void 0===b.name){if(void 0!==b.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${b.functionHandle}`);if(void 0!==b.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${b.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(b)}`)}if("string"==typeof a)return a;let c=a[ay];if(!c)throw Error(`${a} is not a functionReference`);return c}function aD(a){return{[ay]:a}}a.s(["getFunctionAddress",()=>aB,"setReferencePath",()=>aA,"toReferencePath",0,az],33211);let aE=function a(b=[]){return new Proxy({},{get(c,d){if("string"==typeof d)return a([...b,d]);if(d===ay){if(b.length<2){let a=["api",...b].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}let a=b.slice(0,-1).join("/"),c=b[b.length-1];return"default"===c?a:a+":"+c}return d===Symbol.toStringTag?"FunctionReference":void 0}})}();a.s(["anyApi",0,aE,"getFunctionName",()=>aC,"makeFunctionReference",()=>aD],59479);var aF=Object.defineProperty,aG=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aF(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aH{constructor(a){aG(this,"queryResults"),aG(this,"modifiedQueries"),this.queryResults=a,this.modifiedQueries=[]}getQuery(a,...b){let c=q(b[0]),d=aC(a),e=this.queryResults.get(ar(d,c));if(void 0!==e)return aH.queryValue(e.result)}getAllQueries(a){let b=[],c=aC(a);for(let a of this.queryResults.values())a.udfPath===aq(c)&&b.push({args:a.args,value:aH.queryValue(a.result)});return b}setQuery(a,b,c){let d=q(b),e=aC(a),f=ar(e,d);this.queryResults.set(f,{udfPath:e,args:d,result:void 0===c?void 0:{success:!0,value:c,logLines:[]}}),this.modifiedQueries.push(f)}static queryValue(a){return void 0===a?void 0:a.success?a.value:void 0}}class aI{constructor(){aG(this,"queryResults"),aG(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(a,b){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!b.has(a.mutationId));let c=this.queryResults;this.queryResults=new Map(a);let d=new aH(this.queryResults);for(let a of this.optimisticUpdates)a.update(d);let e=[];for(let[a,b]of this.queryResults){let d=c.get(a);(void 0===d||d.result!==b.result)&&e.push(a)}return e}applyOptimisticUpdate(a,b){this.optimisticUpdates.push({update:a,mutationId:b});let c=new aH(this.queryResults);return a(c),c.modifiedQueries}rawQueryResult(a){return this.queryResults.get(a)}queryResult(a){let b=this.queryResults.get(a);if(void 0===b)return;let c=b.result;if(void 0!==c){if(c.success)return c.value;if(void 0!==c.errorData)throw ap(c,new af(ao("query",b.udfPath,c)));throw Error(ao("query",b.udfPath,c))}}hasQueryResult(a){return void 0!==this.queryResults.get(a)}queryLogs(a){let b=this.queryResults.get(a);return b?.result?.logLines}}var aJ=Object.defineProperty,aK=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aJ(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aL{constructor(a,b){aK(this,"low"),aK(this,"high"),aK(this,"__isUnsignedLong__"),this.low=0|a,this.high=0|b,this.__isUnsignedLong__=!0}static isLong(a){return!0===(a&&a.__isUnsignedLong__)}static fromBytesLE(a){return new aL(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24)}toBytesLE(){let a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]}static fromNumber(a){return isNaN(a)||a<0?aM:a>=aO?aP:new aL(a%aN|0,a/aN|0)}toString(){return(BigInt(this.high)*BigInt(aN)+BigInt(this.low)).toString()}equals(a){return aL.isLong(a)||(a=aL.fromValue(a)),(this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low}notEquals(a){return!this.equals(a)}comp(a){return(aL.isLong(a)||(a=aL.fromValue(a)),this.equals(a))?0:a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(a){return 0>=this.comp(a)}static fromValue(a){return"number"==typeof a?aL.fromNumber(a):new aL(a.low,a.high)}}let aM=new aL(0,0),aN=0x100000000,aO=0xffffffffffffffff,aP=new aL(-1,-1);var aQ=Object.defineProperty,aR=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aQ(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class aS{constructor(a,b){aR(this,"version"),aR(this,"remoteQuerySet"),aR(this,"queryPath"),aR(this,"logger"),this.version={querySet:0,ts:aL.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=a,this.logger=b}transition(a){let b=a.startVersion;if(this.version.querySet!==b.querySet||this.version.ts.notEquals(b.ts)||this.version.identity!==b.identity)throw Error(`Invalid start version: ${b.ts.toString()}:${b.querySet}:${b.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(let b of a.modifications)switch(b.type){case"QueryUpdated":{let a=this.queryPath(b.queryId);if(a)for(let c of b.logLines)an(this.logger,"info","query",a,c);let c=C(b.value??null);this.remoteQuerySet.set(b.queryId,{success:!0,value:c,logLines:b.logLines});break}case"QueryFailed":{let a=this.queryPath(b.queryId);if(a)for(let c of b.logLines)an(this.logger,"info","query",a,c);let{errorData:c}=b;this.remoteQuerySet.set(b.queryId,{success:!1,errorMessage:b.errorMessage,errorData:void 0!==c?C(c):void 0,logLines:b.logLines});break}case"QueryRemoved":this.remoteQuerySet.delete(b.queryId);break;default:throw Error(`Invalid modification ${b.type}`)}this.version=a.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function aT(a){let b=ab.toByteArray(a);return aL.fromBytesLE(Array.from(b))}function aU(a){switch(a.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...a};case"MutationResponse":if(a.success)return{...a,ts:aT(a.ts)};return{...a};case"Transition":return{...a,startVersion:{...a.startVersion,ts:aT(a.startVersion.ts)},endVersion:{...a.endVersion,ts:aT(a.endVersion.ts)}}}}var aV=Object.defineProperty,aW=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?aV(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function aX(){return(void 0===b&&(b=Date.now()),"undefined"!=typeof performance&&performance.now)?Math.round(b+performance.now()):Date.now()}function aY(){return`t=${Math.round((aX()-b)/100)/10}s`}let aZ={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};class a${constructor(a,b,c,d,e,f){this.markConnectionStateDirty=e,this.debug=f,aW(this,"socket"),aW(this,"connectionCount"),aW(this,"_hasEverConnected",!1),aW(this,"lastCloseReason"),aW(this,"transitionChunkBuffer",null),aW(this,"defaultInitialBackoff"),aW(this,"maxBackoff"),aW(this,"retries"),aW(this,"serverInactivityThreshold"),aW(this,"reconnectDueToServerInactivityTimeout"),aW(this,"uri"),aW(this,"onOpen"),aW(this,"onResume"),aW(this,"onMessage"),aW(this,"webSocketConstructor"),aW(this,"logger"),aW(this,"onServerDisconnectError"),this.webSocketConstructor=c,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=a,this.onOpen=b.onOpen,this.onResume=b.onResume,this.onMessage=b.onMessage,this.onServerDisconnectError=b.onServerDisconnectError,this.logger=d,this.connect()}setSocketState(a){this.socket=a,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(a){if(a.partNumber<0||a.partNumber>=a.totalParts||0===a.totalParts||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==a.totalParts||this.transitionChunkBuffer.transitionId!==a.transitionId))throw this.transitionChunkBuffer=null,Error("Invalid TransitionChunk");if(null===this.transitionChunkBuffer&&(this.transitionChunkBuffer={chunks:[],totalParts:a.totalParts,transitionId:a.transitionId}),a.partNumber!==this.transitionChunkBuffer.chunks.length){let b=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,Error(`TransitionChunk received out of order: expected part ${b}, got ${a.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(a.chunk),this.transitionChunkBuffer.chunks.length===a.totalParts){let a=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;let b=aU(JSON.parse(a));if("Transition"!==b.type)throw Error(`Expected Transition, got ${b.type} after assembling chunks`);return b}return null}connect(){if("terminated"===this.socket.state)return;if("disconnected"!==this.socket.state&&"stopped"!==this.socket.state)throw Error("Didn't start connection from disconnected state: "+this.socket.state);let a=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:a,paused:"no"}),this.resetServerInactivityTimeout(),a.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),"connecting"!==this.socket.state)throw Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:a,paused:"yes"===this.socket.paused?"uninitialized":"no"}),this.resetServerInactivityTimeout(),"no"===this.socket.paused&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:aX()})),"InitialConnect"!==this.lastCloseReason&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",aY(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",aY())),this.connectionCount+=1,this.lastCloseReason=null},a.onerror=a=>{this.transitionChunkBuffer=null;let b=a.message;b&&this.logger.log(`WebSocket error message: ${b}`)},a.onmessage=a=>{this.resetServerInactivityTimeout();let b=a.data.length,c=aU(JSON.parse(a.data));if(this._logVerbose(`received ws message with type ${c.type}`),"Ping"!==c.type){if("TransitionChunk"===c.type){let a=this.assembleTransition(c);if(!a)return;c=a,this._logVerbose(`assembled full ws message of type ${c.type}`)}null!==this.transitionChunkBuffer&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${c.type} while buffering TransitionChunks`)),"Transition"===c.type&&this.reportLargeTransition({messageLength:b,transition:c}),this.onMessage(c).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())}},a.onclose=a=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,null===this.lastCloseReason&&(this.lastCloseReason=a.reason||`closed with code ${a.code}`),1e3!==a.code&&1001!==a.code&&1005!==a.code&&4040!==a.code){let b=`WebSocket closed with code ${a.code}`;a.reason&&(b+=`: ${a.reason}`),this.logger.log(b),this.onServerDisconnectError&&a.reason&&this.onServerDisconnectError(b)}let b=function(a){if(void 0===a)return"Unknown";for(let b of Object.keys(aZ))if(a.startsWith(b))return b;return"Unknown"}(a.reason);this.scheduleReconnect(b)}}socketState(){return this.socket.state}sendMessage(a){let b={type:a.type,..."Authenticate"===a.type&&"User"===a.tokenType?{value:`...${a.value.slice(-7)}`}:{}};if("ready"===this.socket.state&&"no"===this.socket.paused){let c=JSON.stringify(function(a){switch(a.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...a};case"Connect":let b;if(void 0===a.maxObservedTimestamp)return{...a,maxObservedTimestamp:void 0};return{...a,maxObservedTimestamp:(b=new Uint8Array(a.maxObservedTimestamp.toBytesLE()),ab.fromByteArray(b))}}}(a)),d=!1;try{this.socket.ws.send(c),d=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${d?"sent":"failed to send"} message with type ${a.type}: ${JSON.stringify(b)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(b)}`),!1}resetServerInactivityTimeout(){"terminated"!==this.socket.state&&(null!==this.reconnectDueToServerInactivityTimeout&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(a){this.socket={state:"disconnected"};let b=this.nextBackoff(a);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(b)}ms`),setTimeout(()=>this.connect(),b)}closeAndReconnect(a){switch(this._logVerbose(`begin closeAndReconnect with reason ${a}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":this.lastCloseReason=a,this.close(),this.scheduleReconnect("client");return;default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{let a=this.socket.ws;return a.onmessage=a=>{this._logVerbose("Ignoring message received after close")},new Promise(b=>{a.onclose=()=>{this._logVerbose("Closed after connecting"),b()},a.onopen=()=>{this._logVerbose("Opened after connecting"),a.close()}})}case"ready":{this._logVerbose("ws.close called");let a=this.socket.ws;a.onmessage=a=>{this._logVerbose("Ignoring message received after close")};let b=new Promise(b=>{a.onclose=()=>{b()}});return a.close(),b}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{let a=this.close();return this.setSocketState({state:"terminated"}),a}default:throw this.socket,Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{let a=this.close();return this.socket={state:"stopped"},a}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":this.socket={...this.socket,paused:"yes"};return;default:return void this.socket}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":"uninitialized"===this.socket.paused?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:aX()})):"yes"===this.socket.paused&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:"ready"===this.socket.state,hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(a){this.logger.logVerbose(a)}nextBackoff(a){let b=("client"===a?100:"Unknown"===a?this.defaultInitialBackoff:aZ[a].timeout)*Math.pow(2,this.retries);this.retries+=1;let c=Math.min(b,this.maxBackoff),d=c*(Math.random()-.5);return c+d}reportLargeTransition({transition:a,messageLength:b}){if(void 0===a.clientClockSkew||void 0===a.serverTs)return;let c=aX()-a.clientClockSkew-a.serverTs/1e6,d=`${Math.round(c)}ms`,e=`${Math.round(b/1e4)/100}MB`,f=b/(c/1e3),g=`${Math.round(f/1e4)/100}MB per second`;this._logVerbose(`received ${e} transition in ${d} at ${g}`),b>2e7?this.logger.log(`received query results totaling more that 20MB (${e}) which will take a long time to download on slower connections`):c>2e4&&this.logger.log(`received query results totaling ${e} which took more than 20s to arrive (${d})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:c,messageLength:b}})}}class a_ extends Error{}function a0(a,b){let c;if("string"!=typeof a)throw new a_("Invalid token specified: must be a string");b||(b={});let d=+(!0!==b.header),e=a.split(".")[d];if("string"!=typeof e)throw new a_(`Invalid token specified: missing part #${d+1}`);try{c=function(a){let b=a.replace(/-/g,"+").replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="==";break;case 3:b+="=";break;default:throw Error("base64 string is not of the correct length")}try{var c;return c=b,decodeURIComponent(atob(c).replace(/(.)/g,(a,b)=>{let c=b.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}catch{return atob(b)}}(e)}catch(a){throw new a_(`Invalid token specified: invalid base64 for part #${d+1} (${a.message})`)}try{return JSON.parse(c)}catch(a){throw new a_(`Invalid token specified: invalid json for part #${d+1} (${a.message})`)}}a_.prototype.name="InvalidTokenError";var a1=Object.defineProperty,a2=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?a1(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class a3{constructor(a,b,c){a2(this,"authState",{state:"noAuth"}),a2(this,"configVersion",0),a2(this,"syncState"),a2(this,"authenticate"),a2(this,"stopSocket"),a2(this,"tryRestartSocket"),a2(this,"pauseSocket"),a2(this,"resumeSocket"),a2(this,"clearAuth"),a2(this,"logger"),a2(this,"refreshTokenLeewaySeconds"),a2(this,"tokenConfirmationAttempts",0),this.syncState=a,this.authenticate=b.authenticate,this.stopSocket=b.stopSocket,this.tryRestartSocket=b.tryRestartSocket,this.pauseSocket=b.pauseSocket,this.resumeSocket=b.resumeSocket,this.clearAuth=b.clearAuth,this.logger=c.logger,this.refreshTokenLeewaySeconds=c.refreshTokenLeewaySeconds}async setConfig(a,b){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();let c=await this.fetchTokenAndGuardAgainstRace(a,{forceRefreshToken:!1});c.isFromOutdatedConfig||(c.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:a,onAuthChange:b},hasRetried:!1}),this.authenticate(c.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:a,onAuthChange:b}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(a){if(this.syncState.isCurrentOrNewerAuthVersion(a.endVersion.identity)&&!(a.endVersion.identity<=a.startVersion.identity)){if("waitingForServerConfirmationOfCachedToken"===this.authState.state){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(a){if(!1===a.authUpdateAttempted&&("waitingForServerConfirmationOfFreshToken"===this.authState.state||"waitingForServerConfirmationOfCachedToken"===this.authState.state))return void this._logVerbose("ignoring non-auth token expired error");let{baseVersion:b}=a;this.syncState.isCurrentOrNewerAuthVersion(b+1)?this.tryToReauthenticate(a):this._logVerbose("ignoring auth error for previous auth attempt")}async tryToReauthenticate(a){if(this._logVerbose(`attempting to reauthenticate: ${a.error}`),"noAuth"===this.authState.state||"waitingForServerConfirmationOfFreshToken"===this.authState.state&&this.tokenConfirmationAttempts>=2){this.logger.error(`Failed to authenticate: "${a.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),"noAuth"!==this.authState.state&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${2-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();let b=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});b.isFromOutdatedConfig||(b.value&&this.syncState.isNewAuth(b.value)?(this.authenticate(b.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:b.value,hadAuth:"notRefetching"===this.authState.state||"waitingForScheduledRefetch"===this.authState.state})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if("noAuth"===this.authState.state)return;this._logVerbose("refetching auth token");let a=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});a.isFromOutdatedConfig||(a.value?this.syncState.isNewAuth(a.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:a.value,config:this.authState.config}),this.authenticate(a.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(a){if("noAuth"===this.authState.state)return;let b=this.decodeToken(a);if(!b)return void this.logger.error("Auth token is not a valid JWT, cannot refetch the token");let{iat:c,exp:d}=b;if(!c||!d)return void this.logger.error("Auth token does not have required fields, cannot refetch the token");let e=d-c;if(e<=2)return void this.logger.error("Auth token does not live long enough, cannot refetch the token");let f=Math.min(1728e6,(e-this.refreshTokenLeewaySeconds)*1e3);f<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${e}s`),f=0);let g=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},f);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:g,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${f}ms`)}async fetchTokenAndGuardAgainstRace(a,b){let c=++this.configVersion;this._logVerbose(`fetching token with config version ${c}`);let d=await a(b);return this.configVersion!==c?(this._logVerbose(`stale config version, expected ${c}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:d}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(a){a(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(a){let b="waitingForServerConfirmationOfFreshToken"===a.state?{hadAuth:a.hadAuth,state:a.state,token:`...${a.token.slice(-7)}`}:{state:a.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(b)}`),a.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0}"waitingForScheduledRefetch"===this.authState.state&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=a}decodeToken(a){try{return a0(a)}catch(a){return this._logVerbose(`Error decoding token: ${a instanceof Error?a.message:"Unknown error"}`),null}}_logVerbose(a){this.logger.logVerbose(`${a} [v${this.configVersion}]`)}}let a4=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function a5(a){let b=a.name.slice(6);return{name:b=b.charAt(0).toLowerCase()+b.slice(1),startTime:a.startTime}}var a6=Object.defineProperty,a7=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?a6(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class a8{constructor(a,b,c){let d;if(a7(this,"address"),a7(this,"state"),a7(this,"requestManager"),a7(this,"webSocketManager"),a7(this,"authenticationManager"),a7(this,"remoteQuerySet"),a7(this,"optimisticQueryResults"),a7(this,"_transitionHandlerCounter",0),a7(this,"_nextRequestId"),a7(this,"_onTransitionFns",new Map),a7(this,"_sessionId"),a7(this,"firstMessageReceived",!1),a7(this,"debug"),a7(this,"logger"),a7(this,"maxObservedTimestamp"),a7(this,"connectionStateSubscribers",new Map),a7(this,"nextConnectionStateSubscriberId",0),a7(this,"_lastPublishedConnectionState"),a7(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{let a=this.connectionState();if(JSON.stringify(a)!==JSON.stringify(this._lastPublishedConnectionState))for(let b of(this._lastPublishedConnectionState=a,this.connectionStateSubscribers.values()))b(a)})}),a7(this,"mark",a=>{var b;this.debug&&(b=this.sessionId,"undefined"!=typeof performance&&performance.mark&&performance.mark(a,{detail:{sessionId:b}}))}),"object"==typeof a)throw Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");c?.skipConvexDeploymentUrlCheck!==!0&&r(a);const e=(c={...c}).authRefreshTokenLeewaySeconds??2;let f=c.webSocketConstructor;if(!f&&"undefined"==typeof WebSocket)throw Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");f=f||WebSocket,this.debug=c.reportDebugInfoToConvex??!1,this.address=a,this.logger=!1===c.logger?new al({verbose:c.verbose??!1}):!0!==c.logger&&c.logger?c.logger:am({verbose:c.verbose??!1});const g=a.search("://");if(-1===g)throw Error("Provided address was not an absolute URL.");const h=a.substring(g+3),i=a.substring(0,g);if("http"===i)d="ws";else if("https"===i)d="wss";else throw Error(`Unknown parent protocol ${i}`);const j=`${d}://${h}/api/${ah}/sync`;this.state=new au,this.remoteQuerySet=new aS(a=>this.state.queryPath(a),this.logger),this.requestManager=new ax(this.logger,this.markConnectionStateDirty);const k=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new a3(this.state,{authenticate:a=>{let b=this.state.setAuth(a);return this.webSocketManager.sendMessage(b),b.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:k,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:e}),this.optimisticQueryResults=new aI,this.addOnTransitionHandler(a=>{b(a.queries.map(a=>a.token))}),this._nextRequestId=0,this._sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)});const{unsavedChangesWarning:l}=c;if(!0===l)throw Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.");this.webSocketManager=new a$(j,{onOpen:a=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...a,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});let b=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new aS(a=>this.state.queryPath(a),this.logger);let[c,d]=this.state.restart(b);for(let a of(d&&this.webSocketManager.sendMessage(d),this.webSocketManager.sendMessage(c),this.requestManager.restart()))this.webSocketManager.sendMessage(a)},onResume:()=>{let[a,b]=this.state.resume();for(let c of(b&&this.webSocketManager.sendMessage(b),a&&this.webSocketManager.sendMessage(a),this.requestManager.resume()))this.webSocketManager.sendMessage(c)},onMessage:a=>{switch(!this.firstMessageReceived&&(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),a.type){case"Transition":{this.observedTimestamp(a.endVersion.ts),this.authenticationManager.onTransition(a),this.remoteQuerySet.transition(a),this.state.transition(a);let b=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(b);break}case"MutationResponse":{a.success&&this.observedTimestamp(a.ts);let b=this.requestManager.onResponse(a);null!==b&&this.notifyOnQueryResultChanges(new Map([[b.requestId,b.result]]));break}case"ActionResponse":this.requestManager.onResponse(a);break;case"AuthError":this.authenticationManager.onAuthError(a);break;case"FatalError":{var b,c;let d,e=(b=this.logger,c=a.error,d=`[CONVEX FATAL ERROR] ${c}`,b.error(d),Error(d));throw this.webSocketManager.terminate(),e}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:c.onServerDisconnectError},f,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),c.expectAuth&&k()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(a){(void 0===this.maxObservedTimestamp||this.maxObservedTimestamp.lessThanOrEqual(a))&&(this.maxObservedTimestamp=a)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(a){let b=this.remoteQuerySet.remoteQueryResults(),c=new Map;for(let[a,d]of b){let b=this.state.queryToken(a);if(null!==b){let e={result:d,udfPath:this.state.queryPath(a),args:this.state.queryArgs(a)};c.set(b,e)}}let d=this.optimisticQueryResults.ingestQueryResultsFromServer(c,new Set(a.keys()));this.handleTransition({queries:d.map(a=>{let b=this.optimisticQueryResults.rawQueryResult(a);return{token:a,modification:{kind:"Updated",result:b.result}}}),reflectedMutations:Array.from(a).map(([a,b])=>({requestId:a,result:b})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(a){for(let b of this._onTransitionFns.values())b(a)}addOnTransitionHandler(a){let b=this._transitionHandlerCounter++;return this._onTransitionFns.set(b,a),()=>this._onTransitionFns.delete(b)}getCurrentAuthClaims(){let a=this.state.getAuth(),b={};if(a&&"User"===a.tokenType){try{b=a?a0(a.value):{}}catch{b={}}return{token:a.value,decoded:b}}}setAuth(a,b){this.authenticationManager.setConfig(a,b)}hasAuth(){return this.state.hasAuth()}setAdminAuth(a,b){let c=this.state.setAdminAuth(a,b);this.webSocketManager.sendMessage(c)}clearAuth(){let a=this.state.clearAuth();this.webSocketManager.sendMessage(a)}subscribe(a,b,c){let d=q(b),{modification:e,queryToken:f,unsubscribe:g}=this.state.subscribe(a,d,c?.journal,c?.componentPath);return null!==e&&this.webSocketManager.sendMessage(e),{queryToken:f,unsubscribe:()=>{let a=g();a&&this.webSocketManager.sendMessage(a)}}}localQueryResult(a,b){let c=ar(a,q(b));return this.optimisticQueryResults.queryResult(c)}localQueryResultByToken(a){return this.optimisticQueryResults.queryResult(a)}hasLocalQueryResultByToken(a){return this.optimisticQueryResults.hasQueryResult(a)}localQueryLogs(a,b){let c=ar(a,q(b));return this.optimisticQueryResults.queryLogs(c)}queryJournal(a,b){let c=ar(a,q(b));return this.state.queryJournal(c)}connectionState(){let a=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:a.isConnected,hasEverConnected:a.hasEverConnected,connectionCount:a.connectionCount,connectionRetries:a.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(a){let b=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(b,a),()=>{this.connectionStateSubscribers.delete(b)}}async mutation(a,b,c){let d=await this.mutationInternal(a,b,c);if(!d.success){if(void 0!==d.errorData)throw ap(d,new af(ao("mutation",a,d)));throw Error(ao("mutation",a,d))}return d.value}async mutationInternal(a,b,c,d){let{mutationPromise:e}=this.enqueueMutation(a,b,c,d);return e}enqueueMutation(a,b,c,d){let e=q(b);this.tryReportLongDisconnect();let f=this.nextRequestId;if(this._nextRequestId++,void 0!==c){let a=c.optimisticUpdate;if(void 0!==a){let b=b=>{a(b,e)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},c=this.optimisticQueryResults.applyOptimisticUpdate(b,f).map(a=>{let b=this.localQueryResultByToken(a);return{token:a,modification:{kind:"Updated",result:void 0===b?void 0:{success:!0,value:b,logLines:[]}}}});this.handleTransition({queries:c,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}let g={type:"Mutation",requestId:f,udfPath:a,componentPath:d,args:[H(e)]},h=this.webSocketManager.sendMessage(g);return{requestId:f,mutationPromise:this.requestManager.request(g,h)}}async action(a,b){let c=await this.actionInternal(a,b);if(!c.success){if(void 0!==c.errorData)throw ap(c,new af(ao("action",a,c)));throw Error(ao("action",a,c))}return c.value}async actionInternal(a,b,c){let d=q(b),e=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();let f={type:"Action",requestId:e,udfPath:a,componentPath:c,args:[H(d)]},g=this.webSocketManager.sendMessage(f);return this.requestManager.request(f,g)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){let a=function(a){if("undefined"==typeof performance||!performance.getEntriesByName)return[];let b=[];for(let c of a4){let d=performance.getEntriesByName(c).filter(a=>"mark"===a.entryType).filter(b=>b.detail.sessionId===a);b.push(...d)}return b.map(a5)}(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:a})}}tryReportLongDisconnect(){if(!this.debug)return;let a=this.connectionState().timeOfOldestInflightRequest;null===a||Date.now()-a.getTime()<=6e4||fetch(`${this.address}/api/debug_event`,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${ah}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(a=>{a.ok||this.logger.warn("Analytics request failed with response:",a.body)}).catch(a=>{this.logger.warn("Analytics response failed with error:",a)})}}var a9=Object.defineProperty,ba=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?a9(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};if(void 0===e.default)throw Error("Required dependency 'react' not found");class bb{constructor(a,b){if(ba(this,"address"),ba(this,"cachedSync"),ba(this,"listeners"),ba(this,"options"),ba(this,"closed",!1),ba(this,"_logger"),ba(this,"adminAuth"),ba(this,"fakeUserIdentity"),void 0===a)throw Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if("string"!=typeof a)throw Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof a} instead.`);if(!a.includes("://"))throw Error("Provided address was not an absolute URL.");this.address=a,this.listeners=new Map,this._logger=b?.logger===!1?new al({verbose:b?.verbose??!1}):b?.logger!==!0&&b?.logger?b.logger:am({verbose:b?.verbose??!1}),this.options={...b,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw Error("ConvexReactClient has already been closed.");return this.cachedSync||(this.cachedSync=new a8(this.address,a=>this.transition(a),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity)),this.cachedSync}setAuth(a,b){if("string"==typeof a)throw Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(a,b??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(a,b){if(this.adminAuth=a,this.fakeUserIdentity=b,this.closed)throw Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(a,b)}watchQuery(a,...b){let[c,d]=b,e=aC(a);return{onUpdate:a=>{let{queryToken:b,unsubscribe:f}=this.sync.subscribe(e,c,d),g=this.listeners.get(b);return void 0!==g?g.add(a):this.listeners.set(b,new Set([a])),()=>{if(this.closed)return;let c=this.listeners.get(b);c.delete(a),0===c.size&&this.listeners.delete(b),f()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(e,c)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(e,c)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(e,c)}}}prewarmQuery(a){let b=a.extendSubscriptionFor??5e3;setTimeout(this.watchQuery(a.query,a.args||{}).onUpdate(()=>{}),b)}mutation(a,...b){let[c,d]=b,e=aC(a);return this.sync.mutation(e,c,d)}action(a,...b){let c=aC(a);return this.sync.action(c,...b)}query(a,...b){let c=this.watchQuery(a,...b),d=c.localQueryResult();return void 0!==d?Promise.resolve(d):new Promise((a,b)=>{let d=c.onUpdate(()=>{d();try{a(c.localQueryResult())}catch(a){b(a)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(a){return this.sync.subscribeToConnectionState(a)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){let a=this.cachedSync;this.cachedSync=void 0,await a.close()}}transition(a){for(let b of a){let a=this.listeners.get(b);if(a)for(let b of a)b()}}}let bc=e.default.createContext(void 0);function bd(){return(0,e.useContext)(bc)}let be=({client:a,children:b})=>e.default.createElement(bc.Provider,{value:a},b);function bf(a,...b){let c="skip"===b[0],d="skip"===b[0]?{}:q(b[0]),f="string"==typeof a?aD(a):a,g=aC(f),h=function(a){let b=bd();if(void 0===b)throw Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return function(a,b){let[c]=(0,e.useState)(()=>new bi(b));return c.createWatch!==b&&c.setCreateWatch(b),(0,e.useEffect)(()=>()=>c.destroy(),[c]),function({getCurrentValue:a,subscribe:b}){let[c,d]=(0,e.useState)(()=>({getCurrentValue:a,subscribe:b,value:a()})),f=c.value;return(c.getCurrentValue!==a||c.subscribe!==b)&&(f=a(),d({getCurrentValue:a,subscribe:b,value:f})),(0,e.useEffect)(()=>{let c=!1,e=()=>{c||d(c=>{if(c.getCurrentValue!==a||c.subscribe!==b)return c;let d=a();return c.value===d?c:{...c,value:d}})},f=b(e);return e(),()=>{c=!0,f()}},[a,b]),f}((0,e.useMemo)(()=>({getCurrentValue:()=>c.getLocalResults(a),subscribe:b=>(c.setQueries(a),c.subscribe(b))}),[c,a]))}(a,(0,e.useMemo)(()=>(a,c,d)=>b.watchQuery(a,c,d?{journal:d}:{}),[b]))}((0,e.useMemo)(()=>c?{}:{query:{query:f,args:d}},[JSON.stringify(H(d)),g,c])).query;if(h instanceof Error)throw h;return h}var bg=Object.defineProperty,bh=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bg(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class bi{constructor(a){bh(this,"createWatch"),bh(this,"queries"),bh(this,"listeners"),this.createWatch=a,this.queries={},this.listeners=new Set}setQueries(a){for(let b of Object.keys(a)){let{query:c,args:d}=a[b];if(aC(c),void 0===this.queries[b])this.addQuery(b,c,d);else{let a=this.queries[b];(aC(c)!==aC(a.query)||JSON.stringify(H(d))!==JSON.stringify(H(a.args)))&&(this.removeQuery(b),this.addQuery(b,c,d))}}for(let b of Object.keys(this.queries))void 0===a[b]&&this.removeQuery(b)}subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}getLocalResults(a){let b={};for(let c of Object.keys(a)){let d,{query:e,args:f}=a[c];aC(e);let g=this.createWatch(e,f);try{d=g.localQueryResult()}catch(a){if(a instanceof Error)d=a;else throw a}b[c]=d}return b}setCreateWatch(a){for(let b of(this.createWatch=a,Object.keys(this.queries))){let{query:a,args:c,watch:d}=this.queries[b],e=d.journal();this.removeQuery(b),this.addQuery(b,a,c,e)}}destroy(){for(let a of Object.keys(this.queries))this.removeQuery(a);this.listeners=new Set}addQuery(a,b,c,d){if(void 0!==this.queries[a])throw Error(`Tried to add a new query with identifier ${a} when it already exists.`);let e=this.createWatch(b,c,d),f=e.onUpdate(()=>this.notifyListeners());this.queries[a]={query:b,args:c,watch:e,unsubscribe:f}}removeQuery(a){let b=this.queries[a];if(void 0===b)throw Error(`No query found with identifier ${a}.`);b.unsubscribe(),delete this.queries[a]}notifyListeners(){for(let a of this.listeners)a()}}Symbol("includePageKeys"),Symbol("page");let bj=(0,e.createContext)(void 0);function bk(){let a=(0,e.useContext)(bj);if(void 0===a)throw Error("Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.");return a}function bl({children:a,client:b,useAuth:c}){let{isLoading:d,isAuthenticated:f,fetchAccessToken:g}=c(),[h,i]=(0,e.useState)(null);return d&&null!==h&&i(null),d||f||!1===h||i(!1),e.default.createElement(bj.Provider,{value:{isLoading:null===h,isAuthenticated:f&&(h??!1)}},e.default.createElement(bm,{authProviderAuthenticated:f,fetchAccessToken:g,authProviderLoading:d,client:b,setIsConvexAuthenticated:i}),e.default.createElement(be,{client:b},a),e.default.createElement(bn,{authProviderAuthenticated:f,fetchAccessToken:g,authProviderLoading:d,client:b,setIsConvexAuthenticated:i}))}function bm({authProviderAuthenticated:a,fetchAccessToken:b,authProviderLoading:c,client:d,setIsConvexAuthenticated:f}){return(0,e.useEffect)(()=>{let c=!0;if(a)return d.setAuth(b,a=>{c&&f(()=>a)}),()=>{c=!1,f(a=>!a&&null)}},[a,b,c,d,f]),null}function bn({authProviderAuthenticated:a,fetchAccessToken:b,authProviderLoading:c,client:d,setIsConvexAuthenticated:f}){return(0,e.useEffect)(()=>{if(a)return()=>{d.clearAuth(),f(()=>null)}},[a,b,c,d,f]),null}function bo({children:a}){let{isLoading:b,isAuthenticated:c}=bk();return b||!c?null:e.default.createElement(e.default.Fragment,null,a)}function bp({children:a}){let{isLoading:b,isAuthenticated:c}=bk();return b||c?null:e.default.createElement(e.default.Fragment,null,a)}a.s(["ConvexProviderWithAuth",()=>bl,"useConvexAuth",()=>bk],3421),a.s(["Authenticated",()=>bo,"Unauthenticated",()=>bp],39300),a.s([],1917)}];

//# sourceMappingURL=node_modules__pnpm_03f65913._.js.map